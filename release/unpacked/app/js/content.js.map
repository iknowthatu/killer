{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App/index.js","webpack:///./src/ImageReplacer/MonsterComparator/index.js","webpack:///./src/ImageReplacer/ReplacerTool/index.js","webpack:///./src/ImageReplacer/index.js","webpack:///./src/Killer/Alarm/index.js","webpack:///./src/Killer/CatcherHeart/index.js","webpack:///./src/Killer/CommonHeart/index.js","webpack:///./src/Killer/CookieMaker/index.js","webpack:///./src/Killer/HealerHeart/index.js","webpack:///./src/Killer/Inject/RequestsHook.js","webpack:///./src/Killer/Inject/TKeyGetter.js","webpack:///./src/Killer/KillerHeart/index.js","webpack:///./src/Killer/MainContainer/index.js","webpack:///./src/Killer/SettingsContainer/index.js","webpack:///./src/Killer/TravellerHeart/index.js","webpack:///./src/Killer/TravellerTentacle/index.js","webpack:///./src/Killer/index.js","webpack:///./src/index.js","webpack:///./src/styles/styles.css"],"names":["KillerApp","init","replacer","console","info","killer","League17MonsterComparator","params","normalHost","shineHost","pokemons","pokemonsDataSrc","loadPokemonsData","fetch","chrome","runtime","getURL","then","response","json","data","number","isShine","host","pokemonFromData","filter","pok","name","inlinePokemons","document","querySelectorAll","inlinePokemon","stringWithNumber","getAttribute","replace","match","getPokemonNumberString","stringWithIsShineInfo","image","makeOldGoodPokemonImage","oldImage","querySelector","style","display","lastChild","appendChild","insertBefore","classList","add","maxHeight","getPokemonNameByNumber","oldNameNode","textContent","getInlinePokemonNumber","isShineInlinePokemon","changeInlinePokemonImage","changeInlinePokemonName","setAttribute","forEach","changeInlinePokemonItemNameAndImage","getInlinePokemons","changeInlinePokemonsNamesAndImages","tinyCards","tinyCard","src","parentOldImage","parentNode","contains","pokemonNumber","nameDiv","Array","from","childNodes","find","child","nodeType","getTinyCardNumber","isTinyCardShine","insertImageInTinyCard","changeNameInTinyCard","findAllTinyCards","changeTinyCardsImagesAndNames","pokemonCard","pokemonImage","pokemonBoxCard","Image","getOldGoodPokemonImageSrc","pokemonImageDiv","title","innerHTML","addEventListener","pokemonsCards","pokNumber","getPokemonNumberForCards","Number","isInteger","isComparasionAlreadyDidForCards","isPokemonInCardShine","hideOldNonameImageForCards","insertOldGoodPokemonImageForCards","pokemonName","changePokemonNameInCard","pokemonImages","length","findAllPokemonsInCards","showRealPokemonsForCards","divWithImage","pokemonImageBox","backgroundImage","pokedexTitle","imageDiv","findPokemonInPokedex","getPokemonNumberInPokedex","isShineInPokedex","realImageUrl","backgroundSize","changePokedexTitle","changeAllPokemonCards","changeTinyCards","changeInlinePokemons","changePokedex","League17HelperApp","comparator","setDocumentObserver","observer","MutationObserver","mut","isMainDivsLoaded","disconnect","setObservers","config","attributes","childList","subtree","observe","value","stopObservers","myPokemonDiv","enemyPokemonDiv","myPokeTeam","pokeCards","pokedex","farm","allMainDivsLoaded","compare","undefined","Alarm","preloadAlarm","defaultSrc","alarmAudio","createElement","loop","volume","alarmSource","isNaN","trim","play","pause","currentTime","allBaseHPpoks","CatcherHeart","settings","nextPulse","bind","setSettings","timeBetweenActions","newParams","waitingForCatchCounter","isDivContextLoaded","clickPokeballOnDivFightI","changePokemonFromDivContext","needCatch","autocatch","isPokemonShouldBeCaughtAutomatically","catchParams","phase","preparings","catchPreparing","log","openTeamDiv","pokemonId","id","specialAttackNumber","waitAttackNumber","allowedPokeballs","teamLoaded","isTeamOpenedAndLoaded","pokemonExist","findPokemonAndClickTheBallById","pokemonSended","sendPokemonInBattle","specialAttackClicked","doSpecialAttack","enemyPreparedToCatch","isEnemyHpMinimal","enemyHp","killerHeart","getEnemyHPpercents","enemyLastHP","idleCounter","waitAttackClicked","doAttackForWaiting","chooseItemInFight","isHintsWithItemsLoaded","throwingSuccess","findAndThrowPokeball","needHeal","commonHeart","turnWildPokemons","catched","destinationReached","direction","leaveLastPokemonInPC","numbersForCatch","forbiddennumbers","enemyNumber","getEnemyPokemonNumberAsString","every","mode","observerIV","setTimeout","showEnemyIVhp","enemyDiv","lvlDiv","globalVars","JSON","parse","hpStat","enemyHPmax","lvl","enemyLvl","hpBase","maxIVhp","Math","floor","minIVhp","ceil","spanWithIV","autocatchsettings","catcherAttackNumber","pokeballsNames","pokeballsParams","split","_","numberPokeball","findIndex","pokeball","RegExp","isPokeballDepricated","allowedNumber","push","panelWithTeam","teamDiv","menuButtons","click","ballWasClicked","some","currentIDdiv","currentID","ballToClick","contextItems","pokemonChangeStarted","item","attackNumber","clickAttack","dummy","divContext","divContextTitle","numberPokemons","random","callBag","bagNumber","divHintTitle","hintContent","balls","allowedItems","items","ballThrowed","itemImage","isItemBall","itemNumber","isItemNumberAllowed","isPokemonCatchable","enemyCatchable","teamLink","leavePokemonLink","leavPokemonParams","key","organism","sendRequest","object","CommonHeart","isFight","locationButtons","nextLocationButtons","locationButton","btnWrapper","outerHTML","locationId","contentWidth","offsetWidth","width","fightDiv","newState","buttonsDiv","turnWildButton","movesDiv","closeButton","options","nameDivWithPokemonInfo","pokemonOwner","nameDivWithParams","parameter","fightDivWithPokemon","paramBar","pokemonParamPercents","firstElementChild","autofightButtonCheckbox","checked","wait","checkingIsTeamOpenedAndLoaded","CookieMaker","matches","cookie","decodeURIComponent","expires","d","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propName","propValue","HealerHeart","healAll","isTeamRestored","autoheal","nextLocationNumber","needMove","waySource","waytoheal","healLink","healResponseChecker","alerten","type","teamRestoringChecker","teamResponse","team","teamNotRestored","pokemon","hp","hp_max","moves","Object","values","isMovesNotRestored","move","pp","pp_max","createRequestsHook","func","scr","code","createTextNode","body","head","spillGlobalVars","KillerHeart","alarmswitch","alarm","stopPlay","startPlay","isCaptcha","isCaptchaEnterNeed","window","killerExtension","shotCaptcha","switchAlarm","numberOfPermittedAttacks","getNumberOfPermittedAttacks","killedCounter","fightStatus","getFightStatus","catcherHeart","isPokemonWasCaught","closeFightDiv","changePokemon","controlexp","currentExp","getPlayerPokemonCurrentEXPpercents","criticalExp","currentHp","getPlayerPokemonCurrentHPpercents","criticalHp","controlhp","enemyPokemonNumber","lastPokemonNumber","isAttackForbiddenForThisNumber","isPokemonCanBeCaught","enemyType","isEnemyNormal","repeatAttackCounter","numberOfPermittedAttacksPP","chooseAttack","captchaDiv","captchaImage","fightStatusText","dummyInsteadPlayerPokemon","dummyInsteadEnemyPokemon","attack","weatherDiv","hail","sandstorm","lastTry","randomAttack","resultClicking","getPlayerPokemonAttackPP","moveBox","divForClicking","checkIsPokemonsListToChangeLoaded","getPokemonOpenParameter","stringWithPP","currentPPValue","sumOfAllPermittedAttacksPP","reduce","sum","attackPermission","index","noCatch","enemyImage","enemyLevelDiv","enemyLevel","enemyRankDiv","enemyRankSpan","enemyRank","currentNumber","forbiddenNumbers","killerHtml","KillerContainer","tempDiv","firstChild","mainContainer","createView","topPanel","controlPanel","globalVarsStore","addTopPanelDragListeners","evt","controlPanelClickListener","hiddenDB","panel","moveFlag","newTop","pageY","offsetHeight","top","newLeft","pageX","left","target","tagName","changedAction","dataset","autoFightStatusChangedListener","attackStatusChangedListener","changedAttackNumber","action","settingsButtonClickListener","listener","settingsViewHtml","SettingsContainer","mainWrapper","changeListeners","controlPanelChangeListener","TravellerHeart","prevLocationWays","isPlaceWasChanged","wayChain","getWay","locationNumber","goToLocation","way","map","locationName","nextLocationButton","oldLocationButtons","i","locationIdForOldButton","toString","locationIdForNewButton","TravellerTentacle","to","walkingTheWay","chain","nextWay","Promise","resolve","loactionName","lifesCounter","Killer","imageReplacer","settingsParametres","killerView","settingsView","healerHeart","travellerHeart","travellerTentacle","injectViewsIntoDocument","setMainViewListeners","setSettingsViewListeners","loadSettings","updateViews","ctrlKey","shiftKey","toggleVisionMainContainer","getGlobalVars","hiddenStore","currentKillerLife","killerHeartbeat","life","ms","paramToChain","counterView","blood","autofight","showKilledCounter","randomTimeInterval","getMainContainerElement","toggleVisionSettingsView","setAutoFightStatusChangedListener","changeSettings","setAttackStatusChangedListener","setSettingsClickListener","parametres","setChangeListener","newValue","newPartOfSettings","newSettings","switchOn","showpokemons","setObserverIV","showiv","changeVolume","alarmvolume","changeMelody","alarmsrc","oldAutofightStatus","saveSettings","startKillerLife","attackCheckboxes","checkbox","settingsInput","settingsToSave","stringify","getSettingsToSave","localStorage","setItem","loadedSettings","getItem","url","formData","FormData","append","t_key","param","method","credentials","require","app"],"mappings":"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","file":"./dist/app/js/content.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import PokemonReplacer from './../ImageReplacer';\r\nimport Killer from './../Killer';\r\n\r\nclass KillerApp {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    let replacer = new PokemonReplacer();\r\n    console.info('Image replacer was loaded');\r\n    let killer = new Killer(replacer);\r\n\t\tconsole.info('Killer was loaded');\r\n  }\r\n}\r\n\r\nexport default KillerApp;\r\n\r\n\r\n","class League17MonsterComparator {\n\tconstructor() {\n      this.init();\n  }\n\n  /**\n   *\n   * @param {Object} params\n   * @param {string} params.pokemonsDataSrc\n   */\n  init(params = {}) {\n      // this.normalHost = 'https://assets.pokemon.com/assets/cms2/img/pokedex/full/';\n      this.normalHost = 'https://www.serebii.net/sunmoon/pokemon/';\n      this.shineHost = 'https://www.serebii.net/Shiny/SM/';\n      this.pokemons = [];\n      this.pokemonsDataSrc = params.pokemonsDataSrc || 'data/pokemons.json';\n\n      this.loadPokemonsData(this.pokemonsDataSrc);\n  }\n\n  loadPokemonsData(pokemonsDataSrc) {\n    return fetch(chrome.runtime.getURL(pokemonsDataSrc))\n    .then( response=>response.json() )\n    .then( data=>this.pokemons=data );\n  }\n\n  getOldGoodPokemonImageSrc( number, isShine=false ) {\n    let host = isShine ? this.shineHost : this.normalHost;\n    return `${host}${number}.png`;\n  }\n\n  getPokemonNameByNumber( number ) {\n    let pokemonFromData = this.pokemons.filter(pok=>pok.number==number)[0];\n    if( !pokemonFromData ) return `i don't know this pokemon`;\n    return pokemonFromData.name;\n  }\n\n  getPokemonNumberString( number=0 ) {\n    if(number < 10) return `00${number}`;\n    if(number < 100) return `0${number}`;\n    if(number > 806) return 0;\n    return number;\n  }\n\n    /* inline pokemons */\n\n  getInlinePokemons() {\n    let inlinePokemons = document.querySelectorAll( '.intextpoke:not([data-changed])' );\n    return inlinePokemons;\n  }\n\n  getInlinePokemonNumber( inlinePokemon ) {\n    let stringWithNumber = inlinePokemon.getAttribute('onclick');\n    stringWithNumber = stringWithNumber ? stringWithNumber : '';\n    stringWithNumber = stringWithNumber.replace(/^.*?'/, '').replace(/'.*/,'');\n    let number = stringWithNumber.match( /\\d+/ );\n    number = number != null ? this.getPokemonNumberString(+number[0]) : 0;\n    return number;\n  }\n\n  isShineInlinePokemon( inlinePokemon ) {\n    let stringWithIsShineInfo = inlinePokemon.getAttribute('onclick');\n    let isShine = stringWithIsShineInfo.match( /\\d[^\\d]*?\\)/ )[0];\n    isShine = isShine.match(/\\d/);\n    isShine = isShine != null && isShine[0] == 1;\n    return isShine;\n  }\n\n  changeInlinePokemonImage( inlinePokemon, number, isShine=false ) {\n    let image = this.makeOldGoodPokemonImage( number, isShine );\n    let oldImage = inlinePokemon.querySelector( '.pk' );\n    if( oldImage) oldImage.style.display = 'none';\n    let lastChild = inlinePokemon.lastChild;\n    if( !lastChild ) inlinePokemon.appendChild(image);\n    else inlinePokemon.insertBefore(image, lastChild);\n    image.classList.add('pk');\n    image.style.maxHeight = \"2rem\";\n  }\n\n  changeInlinePokemonName( inlinePokemon, number ) {\n    let name = this.getPokemonNameByNumber( number );\n    let oldNameNode = inlinePokemon.lastChild;\n    oldNameNode.textContent = name;\n  }\n\n  changeInlinePokemonItemNameAndImage( inlinePokemon ) {\n    let number = this.getInlinePokemonNumber( inlinePokemon );\n    if( !number ) return;\n    let isShine = this.isShineInlinePokemon( inlinePokemon );\n    this.changeInlinePokemonImage( inlinePokemon, number, isShine );\n    this.changeInlinePokemonName( inlinePokemon, number );\n    inlinePokemon.setAttribute( 'data-changed', '' );\n  }\n\n  changeInlinePokemonsNamesAndImages( inlinePokemons ) {\n    inlinePokemons.forEach( inlinePokemon=>{\n      this.changeInlinePokemonItemNameAndImage( inlinePokemon );\n    });\n  }\n\n  changeInlinePokemons() {\n    let inlinePokemons = this.getInlinePokemons();\n    this.changeInlinePokemonsNamesAndImages( inlinePokemons );\n  }\n\n    /* tiny Cards */\n\n  findAllTinyCards() {\n    let tinyCards = document.querySelectorAll( '.pokemonBoxTiny:not([data-changed])' );\n    return tinyCards;\n  }\n\n  getTinyCardNumber( tinyCard ) {\n    let oldImage = tinyCard.querySelector('.image');\n    if(!oldImage) return;\n    let number = oldImage.src.match( /\\d{3}/ );\n    number = number ? this.getPokemonNumberString(+number[0]) : 0;\n    return number;\n  }\n\n  insertImageInTinyCard( tinyCard, image ) {\n    image.classList.add('image');\n    let oldImage = tinyCard.querySelector('.image');\n    if(!oldImage) return;\n    oldImage.style.display = 'none';\n    let parentOldImage = oldImage.parentNode;\n    parentOldImage.insertBefore( image, oldImage );\n    if(!image.parentNode.classList.contains('pokemonBoxTiny'))\n    image.style = 'margin-top: 0; width: 100%; height: 100%;';\n  }\n\n  changeNameInTinyCard( tinyCard , pokemonNumber ) {\n    let name = this.getPokemonNameByNumber( pokemonNumber );\n    let nameDiv = tinyCard.querySelector('.name');\n    if(!nameDiv) return;\n    nameDiv = Array.from(nameDiv.childNodes).find(child => child.nodeType == 3 && child.textContent.match(/#\\d+/));\n    nameDiv.textContent = `#${pokemonNumber} ${name}`;\n  }\n\n  isTinyCardShine( tinyCard ) {\n    let image = tinyCard.querySelector('.image');\n    let isShine = image.src.match(/shine/);\n    isShine = isShine != null;\n    return isShine;\n  }\n\n  changeTinyCardsImagesAndNames( tinyCards ) {\n    tinyCards.forEach( tinyCard=>{\n      let pokemonNumber = this.getTinyCardNumber(tinyCard);\n      if( !pokemonNumber ) return;\n      let isShine = this.isTinyCardShine( tinyCard );\n      let image = this.makeOldGoodPokemonImage( pokemonNumber, isShine );\n      this.insertImageInTinyCard( tinyCard, image );\n      this.changeNameInTinyCard( tinyCard, pokemonNumber );\n      tinyCard.setAttribute('data-changed','');\n    });\n  }\n\n  changeTinyCards() {\n    let tinyCards = this.findAllTinyCards();\n    this.changeTinyCardsImagesAndNames( tinyCards );\n  }\n\n    /* pokemon Cards */\n\n  isPokemonInCardShine( pokemonCard ) {\n    let pokemonImage = pokemonCard.querySelector('.image > img');\n    if( !pokemonImage ) return false;\n    let isShine = pokemonImage.src.match( /shine/ );\n    isShine = isShine != null;\n\t\treturn isShine;\n  }\n\n\tgetPokemonNumberForCards( pokemonBoxCard ) {\n    let pokemonImage = pokemonBoxCard.querySelector('.image > img');\n    if( !pokemonImage ) return 0;\n    let number = pokemonImage.src.match(/\\d{3}/);\n    number = number ? this.getPokemonNumberString(+number[0]) : 0;\n\t\treturn number;\n  }\n\n  findAllPokemonsInCards() {\n\t\tlet pokemons = document.querySelectorAll('.pokemonBoxCard:not([data-changed])');\n\t\treturn pokemons;\n\t}\n\n\tmakeOldGoodPokemonImage( number, isShine=false ) {\n\t\tlet image = new Image();\n\t\timage.src = this.getOldGoodPokemonImageSrc( number, isShine );\n\t\timage.classList.add( 'leagueHelper__pokemon-image' );\n\t\treturn image;\n\t}\n\n\tinsertOldGoodPokemonImageForCards( pokemonBoxCard, pokemonImage ) {\n    let pokemonImageDiv = pokemonBoxCard.querySelector('.image');\n    if(!pokemonImageDiv) return;\n\t\tpokemonImageDiv.appendChild( pokemonImage );\n\t}\n\n\thideOldNonameImageForCards( pokemonBoxCard ) {\n    let pokemonImage = pokemonBoxCard.querySelector('.image > img');\n    if(!pokemonImage) return;\n\t\tpokemonImage.style.display = 'none';\n  }\n\n  changePokemonNameInCard( pokemonCard, name ) {\n    let title = pokemonCard.querySelector('.title > .name');\n    if(!title) return;\n    title.innerHTML = name;\n    if( pokemonCard.getAttribute('data-nameWatcher') != null  ) return;\n    pokemonCard.addEventListener('click',()=>{if(title.innerHTML != name)title.innerHTML=name;});\n    pokemonCard.setAttribute('data-nameWatcher','');\n  }\n\n\tshowRealPokemonsForCards( pokemonsCards ) {\n\t\tpokemonsCards.forEach( pokemonCard => {\n      let pokNumber = this.getPokemonNumberForCards( pokemonCard );\n      if( !pokNumber ) return;\n      if( !Number.isInteger( +pokNumber ) ) return;\n      if( this.isComparasionAlreadyDidForCards(pokemonCard) ) return;\n      let isShine = this.isPokemonInCardShine( pokemonCard );\n      let image = this.makeOldGoodPokemonImage( pokNumber, isShine );\n      this.hideOldNonameImageForCards( pokemonCard );\n      this.insertOldGoodPokemonImageForCards( pokemonCard, image );\n      let pokemonName = this.getPokemonNameByNumber( pokNumber );\n      this.changePokemonNameInCard( pokemonCard, pokemonName );\n      pokemonCard.setAttribute('data-changed','');\n\t\t});\n  }\n\n\tisComparasionAlreadyDidForCards( pokemonBoxCard ) {\n\t\tlet pokemonImages = pokemonBoxCard.querySelectorAll('.image > img');\n\t\tif( pokemonImages.length > 1 ) return true;\n\t\treturn false;\n  }\n\n  changeAllPokemonCards() {\n    let pokemonsCards = this.findAllPokemonsInCards();\n    this.showRealPokemonsForCards( pokemonsCards );\n  }\n\n    /* search in pokedex */\n\n  findPokemonInPokedex() {\n    let divWithImage = document.querySelector( '#divPokedex .imagebox' );\n    if( divWithImage == null ) return null;\n    if ( divWithImage.getAttribute( 'data-changed' ) != null ) return null;\n    return divWithImage;\n  }\n\n  getPokemonNumberInPokedex( pokemonImageBox ) {\n    let number = pokemonImageBox.style.backgroundImage.match( /\\d{3}/ );\n    number = number ? this.getPokemonNumberString(+number[0]) : 0;\n    return number;\n  }\n\n  changePokedexTitle( pokemonNumber ) {\n    let pokedexTitle = document.querySelector( '#divPokedex .params > .title' );\n    if( pokedexTitle == null ) return;\n    let pokemonName = this.getPokemonNameByNumber(pokemonNumber);\n    pokedexTitle.innerHTML = `#${pokemonNumber} ${pokemonName}`;\n  }\n\n  isShineInPokedex( divWithImage ) {\n    let isShine = divWithImage.style.backgroundImage.match( /shine/ );\n    isShine = isShine != null;\n    return isShine;\n  }\n\n  changePokedex() {\n    let imageDiv = this.findPokemonInPokedex();\n    if( imageDiv == null ) return;\n\n    let pokemonNumber = this.getPokemonNumberInPokedex( imageDiv );\n    if(!pokemonNumber) return;\n    let isShine = this.isShineInPokedex( imageDiv );\n    let realImageUrl = this.getOldGoodPokemonImageSrc( pokemonNumber, isShine );\n    imageDiv.style.backgroundImage = `url(\"${realImageUrl}\")`;\n    imageDiv.style.backgroundSize = `100% 100%`;\n    imageDiv.setAttribute( 'data-changed', '' );\n\n    this.changePokedexTitle( pokemonNumber );\n  }\n\n    /* main func */\n\n\tcompare() {\n    this.changeAllPokemonCards();\n    this.changeTinyCards();\n    this.changeInlinePokemons();\n    this.changePokedex();\n\t}\n}\n\nexport default League17MonsterComparator;","import Comparator from './../MonsterComparator';\r\n\r\nclass League17HelperApp {\r\n    constructor() {\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.comparator = new Comparator();\r\n    this.setDocumentObserver();\r\n\t}\r\n\r\n  setDocumentObserver() {\r\n    let observer = new MutationObserver( (mut)=>{\r\n      if( !this.isMainDivsLoaded() ) return;\r\n      observer.disconnect();\r\n\t\t\tthis.setObservers();\r\n     });\r\n    let config = { attributes: true, childList: true, subtree: true };\r\n    observer.observe( document, config );\r\n  }\r\n\r\n  switchOn(value) {\r\n    if(!value) return this.stopObservers();\r\n    this.setObservers();\r\n  }\r\n\r\n  isMainDivsLoaded() {\r\n    let myPokemonDiv = document.querySelector('#divFightI');\r\n\t\tlet enemyPokemonDiv = document.querySelector('#divFightH');\r\n\t\tlet myPokeTeam = document.querySelector('#divDockMenu > .divDockPanels');\r\n\t\tlet pokeCards = document.querySelector('#divPokeCard');\r\n    let pokedex = document.querySelector('#divPokedex');\r\n    let farm = document.querySelector('.divDialog');\r\n\r\n    let allMainDivsLoaded = myPokemonDiv && enemyPokemonDiv && myPokeTeam && pokeCards\r\n      pokeCards && pokedex && farm;\r\n    return allMainDivsLoaded;\r\n  }\r\n\r\n\tsetObservers() {\r\n    if(this.observer) return;\r\n\r\n\t\tlet myPokemonDiv = document.querySelector( '#divFightI' );\r\n\t\tlet enemyPokemonDiv = document.querySelector( '#divFightH' );\r\n\t\tlet myPokeTeam = document.querySelector( '#divDockMenu > .divDockPanels' ); // .divPokeTeam\r\n\t\tlet pokeCards = document.querySelector( '#divPokeCard' );\r\n    let pokedex = document.querySelector( '#divPokedex' );\r\n    let farm = document.querySelector( '.divDialog' );\r\n\r\n\t\tlet config = { attributes: true, childList: true, subtree: true };\r\n\r\n    let observer = new MutationObserver(  (mut)=>{ this.comparator.compare(); } );\r\n    this.observer = observer;\r\n\r\n\t\tobserver.observe( myPokemonDiv, config );\r\n\t\tobserver.observe( enemyPokemonDiv, config );\r\n\t\tobserver.observe( myPokeTeam, config );\r\n\t\tobserver.observe( pokeCards, config );\r\n    observer.observe( pokedex, config );\r\n    observer.observe( farm, config );\r\n  }\r\n\r\n  stopObservers() {\r\n    if(!this.observer) return;\r\n    this.observer.disconnect();\r\n    this.observer = undefined;\r\n  }\r\n}\r\n\r\nexport default League17HelperApp;\r\n\r\n","import Helper from './ReplacerTool';\r\nexport default Helper;","class Alarm {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.preloadAlarm();\r\n    this.defaultSrc = chrome.runtime.getURL('audio/signal.ogx');\r\n  }\r\n\r\n  preloadAlarm() {\r\n    let alarmAudio = document.createElement('audio');\r\n      alarmAudio.classList.add('killer__alarm');\r\n      alarmAudio.loop = true;\r\n      alarmAudio.volume = 0.1;\r\n    let alarmSource = document.createElement('source');\r\n      alarmSource.src = this.defaultSrc;\r\n      alarmAudio.appendChild(alarmSource);\r\n    this.alarmAudio = alarmAudio;\r\n    this.alarmSource = alarmSource;\r\n  }\r\n\r\n  changeVolume(value) {\r\n    if(isNaN(+value)) return;\r\n    if(+value < 1 && +value > 0) {\r\n      this.alarmAudio.volume = value;\r\n      return;\r\n    }\r\n    if(+value <= 0) {\r\n      this.alarmAudio.volume = 0;\r\n      return;\r\n    }\r\n    if(+value >= 100) {\r\n      this.alarmAudio.volume = 1;\r\n      return;\r\n    }\r\n    this.alarmAudio.volume = (+value)/100;\r\n  }\r\n\r\n  changeMelody(src) {\r\n    if(!src.trim()) {\r\n      this.alarmAudio.src = this.defaultSrc;\r\n      return;\r\n    }\r\n    this.alarmAudio.src = src;\r\n  }\r\n\r\n  startPlay() {\r\n    this.alarmAudio.play();\r\n  }\r\n\r\n  stopPlay() {\r\n    this.alarmAudio.pause();\r\n    this.alarmAudio.currentTime = 0;\r\n  }\r\n}\r\n\r\nexport default Alarm;","let allBaseHPpoks = [0,78,60,80,39,58,78,44,59,79,45,50,60,40,45,65,40,63,83,30,55,40,65,35,60,35,60,50,75,55,70,90,46,61,81,70,95,38,73,115,140,40,75,45,60,75,35,60,60,70,10,35,40,65,50,80,40,65,55,90,40,65,90,25,40,55,70,80,90,50,65,80,40,80,40,55,80,50,65,90,95,25,50,52,35,60,65,90,80,105,30,50,30,45,60,35,60,85,30,55,40,60,60,95,50,60,50,50,90,40,65,80,105,250,65,105,30,55,45,80,30,60,40,70,65,65,65,65,75,20,95,130,48,55,130,65,65,65,35,70,30,60,80,160,90,90,90,41,61,91,106,100,45,60,80,39,58,78,50,65,85,35,85,60,100,40,55,40,70,85,75,125,20,50,90,35,55,40,65,55,70,90,75,70,100,70,90,35,55,75,55,30,75,65,55,95,65,95,60,95,60,48,190,70,50,75,100,65,75,60,90,65,70,20,80,55,60,90,40,50,50,100,55,35,75,45,65,65,45,75,75,90,90,85,73,55,35,50,45,45,45,95,255,90,115,100,50,70,100,106,106,100,40,50,70,45,60,80,50,70,100,35,70,38,78,45,50,60,50,60,40,60,80,40,70,90,40,60,40,60,28,38,68,40,70,60,60,60,80,150,31,61,1,64,84,104,72,144,50,30,50,70,50,50,50,60,70,30,60,40,70,60,60,65,65,50,70,100,45,70,130,170,60,70,70,60,80,60,45,50,80,50,70,45,75,73,73,70,70,50,110,43,63,40,60,66,86,45,75,20,95,70,60,44,64,20,40,99,65,65,95,50,80,70,90,110,35,55,55,100,43,45,65,95,40,60,80,80,80,80,80,80,100,100,105,100,50,55,75,95,44,64,76,53,64,84,40,55,85,59,79,37,77,45,60,80,40,60,97,97,30,60,40,60,70,30,70,60,55,85,45,70,76,111,75,90,150,55,65,60,100,49,71,45,63,103,57,67,50,20,100,76,50,58,68,108,135,40,70,68,108,40,70,48,83,74,49,69,45,60,90,70,70,110,115,100,75,75,85,86,65,65,75,110,85,68,60,45,70,50,75,80,75,100,90,91,110,150,120,80,100,70,100,120,100,45,60,75,65,90,110,55,75,95,45,60,45,65,85,41,64,50,75,50,75,50,75,76,116,50,62,80,45,75,55,70,85,55,67,60,110,103,75,85,105,50,75,105,120,75,45,55,75,30,40,60,40,60,45,70,70,50,60,95,70,105,75,50,70,50,65,72,38,58,54,74,55,75,50,80,40,60,55,75,45,60,70,45,65,110,62,75,36,51,71,60,80,55,50,70,69,114,55,100,165,50,70,44,74,40,60,60,35,65,85,55,75,50,60,60,46,66,76,55,95,70,50,80,109,45,65,77,59,89,45,65,95,70,100,70,110,85,58,52,72,92,55,85,91,91,91,79,79,100,100,89,125,91,100,71,56,61,88,40,59,75,41,54,72,38,85,45,62,78,38,45,80,62,86,44,54,78,66,123,67,95,75,62,74,45,59,60,78,101,62,82,53,86,42,72,50,65,50,71,44,62,58,82,77,123,95,78,67,50,45,68,90,57,43,85,49,65,55,95,40,85,126,126,108,50,80,80];\n//console.log(allBaseHPpoks.length);\n\nclass CatcherHeart {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.settings = {};\n    this.nextPulse = this.nextPulse.bind(this);\n    this.setSettings = this.setSettings.bind(this);\n    this.timeBetweenActions = 1000;\n  }\n\n  nextPulse(params={}) {\n    let newParams = {...params};\n\n    /* it should restrict disappearing of wild pokemon with time */\n    if(params.waitingForCatchCounter > 30) {\n      if(!this.isDivContextLoaded()) {\n        this.clickPokeballOnDivFightI();\n      } else this.changePokemonFromDivContext();\n    }\n\n    if(!params.needCatch || !this.settings.autocatch) return newParams;\n\n    if(!this.isPokemonShouldBeCaughtAutomatically()) return newParams;\n\n    let catchParams = {};\n    if(!params.catchParams) {\n      newParams.catchParams = catchParams;\n    } else {\n      catchParams = params.catchParams;\n    }\n\n    newParams.waitingForCatchCounter = 0;\n    //console.log(catchParams.phase);\n    //console.log(catchParams);\n\n    if(!catchParams.phase) {\n      let preparings = this.catchPreparing();\n      if(!preparings) {\n        //this.clickPokeballOnDivFightI();\n        //catchParams.phase = 9; //??\n        console.log('i cant catch with this parameters')\n        return newParams;\n      } else {\n        this.openTeamDiv();\n        catchParams.phase = 1;\n        catchParams.pokemonId = preparings.id;\n        catchParams.specialAttackNumber = preparings.specialAttackNumber - 1;\n        catchParams.waitAttackNumber = preparings.waitAttackNumber - 1;\n        catchParams.allowedPokeballs = preparings.allowedPokeballs;\n        return newParams;\n      }\n    }\n\n    if(catchParams.phase == 1) {\n      let teamLoaded = this.isTeamOpenedAndLoaded();\n      if(!teamLoaded) return newParams;\n      let pokemonExist = this.findPokemonAndClickTheBallById(catchParams.pokemonId);\n      if(!pokemonExist) {\n        catchParams.phase = 9; //?\n        return newParams;\n      } else {\n        let pokemonSended = this.sendPokemonInBattle();\n        if(!pokemonSended) return newParams;\n        catchParams.phase = 2;\n        return newParams;\n      }\n    };\n\n    if(catchParams.phase == 2) {\n      let specialAttackClicked = this.doSpecialAttack(catchParams.specialAttackNumber);\n      //this.settings.killerHeart.clickAttack(catchParams.specialAttackNumber);\n      if(!specialAttackClicked) return newParams;\n\n      catchParams.phase = 3;\n      return newParams;\n    }\n\n    if(catchParams.phase == 3) {\n      let enemyPreparedToCatch = this.isEnemyHpMinimal();\n      if(enemyPreparedToCatch) {\n        this.clickPokeballOnDivFightI();\n        catchParams.phase = 5;\n        return newParams;\n      }\n\n      let enemyHp = this.settings.killerHeart.getEnemyHPpercents();\n      if(enemyHp != catchParams.enemyLastHP) catchParams.enemyLastHP = enemyHp;\n      else {\n        catchParams.idleCounter = catchParams.idleCounter ? catchParams.idleCounter + 1 : 1;\n      }\n\n      if(catchParams.idleCounter > 4) {\n        catchParams.phase = 2;\n        return newParams;\n      }\n\n      if(catchParams.waitAttackNumber >= 0 && catchParams.waitAttackNumber <= 3) {\n        let waitAttackClicked = this.doAttackForWaiting(catchParams.waitAttackNumber)\n        //this.settings.killerHeart.clickAttack(catchParams.waitAttackNumber);\n        if(!waitAttackClicked) catchParams.waitAttackNumber = -1;\n        return newParams;\n      }\n\n      this.clickPokeballOnDivFightI();\n      catchParams.phase = 4;\n      return newParams;\n    }\n\n    if(catchParams.phase == 4) {\n      if(!this.isDivContextLoaded()) return newParams;\n      this.changePokemonFromDivContext();\n      catchParams.phase = 3;\n      return newParams;\n    }\n\n    if(catchParams.phase == 5) {\n      if(!this.isDivContextLoaded()) return newParams;\n      this.chooseItemInFight();\n      catchParams.phase = 6;\n      return newParams;\n    }\n\n    if(catchParams.phase == 6) {\n      if(!this.isHintsWithItemsLoaded()) return newParams;\n      let throwingSuccess = this.findAndThrowPokeball(catchParams.allowedPokeballs);\n      if(!throwingSuccess) {\n        console.log('no pokeballs! cmon, man');\n        return newParams;\n      }\n      catchParams.phase = 3;\n      newParams.needHeal = true;\n      this.settings.commonHeart.turnWildPokemons(false);\n      return newParams;\n    }\n\n    if(catchParams.phase == 7) {\n      //console.log(`catched: ${catchParams.catched}`);\n      //console.log(`phase 7:`, newParams);\n      if(!catchParams.catched) {\n        newParams.needCatch = false;\n        newParams.catchParams = undefined;\n        return newParams;\n      }\n\n      //console.log(`phase 7: reached:${params.destinationReached} direction:${params.direction}`);\n      if(params.destinationReached && params.direction == 'fwd') {\n        //console.log('now i leave pokemonss')\n        newParams.needCatch = false;\n        newParams.catchParams = undefined;\n        return this.leaveLastPokemonInPC()\n          .then(_ => newParams);\n      }\n\n      return newParams;\n    }\n  }\n\n  isPokemonShouldBeCaughtAutomatically() {\n    let numbersForCatch = this.settings.forbiddennumbers.match(/!\\d+;?/g);\n    if(!numbersForCatch || numbersForCatch.length < 1) return false;\n\n    let enemyNumber = +this.settings.killerHeart.getEnemyPokemonNumberAsString();\n    if(numbersForCatch.every(number => +number.replace(/!(\\d+);?/,'$1') != +enemyNumber)) return false;\n\n    return true;\n  }\n\n  /*\n    0) open team window\n    1) find pokemon by id ? 2) : 9)\n      1) click on pokemon ball\n      2) choose 'В битву'\n      3) click special attack\n        4) click attack for waiting\n          or\n        5) click ball\n        6) change pokemons if > 1 untile hp min -> 9)\n      or\n    5) click ball\n    7) click 'Использовать предмет'\n    8) click pokeball\n  */\n\n  setSettings(settings = {}) {\n    this.settings = settings;\n  }\n\n  /* catcher methods */\n\n  setObserverIV(mode) {\n    if(!mode) {\n      if(!this.observerIV) return;\n      this.observerIV.disconnect();\n      return;\n    }\n    let observer = new MutationObserver(_ => {\n      setTimeout( this.showEnemyIVhp, 0 );\n    });\n    let config = {attributes: true, childList: true, subtree: true};\n    let enemyDiv = document.querySelector('#divFightH');\n    if(!enemyDiv) return;\n    observer.observe(enemyDiv, config);\n    this.observerIV = observer;\n  }\n\n  showEnemyIVhp()\n  {\n    let lvlDiv = document.querySelector('#divFightH .pokemonBoxCard .lvl');\n\n    if(!lvlDiv) return;\n    if(lvlDiv.getAttribute('data-changed')) return;\n    let globalVars = JSON.parse(document.querySelector('[data-globalvarsstore]').value);\n    let hpStat = globalVars.enemyHPmax;\n    let enemyNumber = globalVars.enemyNumber;\n    let lvl = globalVars.enemyLvl;\n    let hpBase = allBaseHPpoks[enemyNumber];\n\n    let maxIVhp  = Math.floor(100*(hpStat-9.5-lvl)/lvl-(hpBase*2)-0.0001);\n    let minIVhp  = Math.ceil(100*(hpStat-10.5-lvl)/lvl-(hpBase*2));\n\n    let spanWithIV = document.createElement('span');\n    spanWithIV.classList.add('killerApp__spanIV');\n    spanWithIV.innerHTML = ` /IVhp: ${minIVhp}-${maxIVhp}`;\n    lvlDiv.appendChild(spanWithIV);\n    lvlDiv.setAttribute('data-changed', '1');\n  }\n\n  /* functions for catching: */\n\n  /* phase 0: prepare to catch */\n  catchPreparing() {\n    let pokemonId = +this.settings.autocatchsettings.replace(/[^]*?\\/\\s?(?:id)?([^]*?)\\/[^]*/,'$1').trim();\n    if(!pokemonId || isNaN(pokemonId)) {\n      console.log('no pokemonId');\n      return false;\n    }\n    //let pokemonId = '3660958';\n    let catcherAttackNumber = +this.settings.autocatchsettings.replace(/[^]*?\\/[^]*?\\/\\s*(\\d+?)\\s*?\\/[^]*/,'$1').trim();\n    if(!catcherAttackNumber || isNaN(catcherAttackNumber) || catcherAttackNumber < 1 || catcherAttackNumber > 4) {\n      console.log('no correct catcher attack number');\n      return false;\n    }\n    //console.log(`catchar attack ${catcherAttackNumber}`);\n    let allowedPokeballs = ['1', '2', '4'];\n    let pokeballsNames = ['покебол', 'монстробол', 'pokeball', 'гритбол', 'greatball',\n        'ультрабол', 'ultraball', 'мастербол', 'masterball'];\n    let pokeballsParams = this.settings.autocatchsettings.replace(/([^]*?)\\/[^]*/i, '$1').trim().split(';').filter(_ => _);\n    //console.log(`pokeball params: `, pokeballsParams);\n    pokeballsParams.forEach(pokeball => {\n      let numberPokeball = pokeballsNames.findIndex(name => !!pokeball.match(new RegExp(name, 'i')));\n      switch(numberPokeball) {\n        case 0: case 1: case 2:\n          numberPokeball = 1; break;\n        case 3: case 4:\n          numberPokeball = 2; break;\n        case 5: case 6:\n          numberPokeball = 4; break;\n        case 7: case 8:\n          numberPokeball = 3; break;\n        default: return;\n      }\n      let isPokeballDepricated = !!pokeball.match(/!/);\n      if(isPokeballDepricated) {\n        allowedPokeballs = allowedPokeballs.filter(allowedNumber => allowedNumber != numberPokeball);\n      } else {\n        if(allowedPokeballs.findIndex(allowedNumber => allowedNumber == numberPokeball) != -1) return;\n        allowedPokeballs.push(numberPokeball);\n      }\n    });\n\n    let waitAttackNumber = +this.settings.autocatchsettings.replace(/[^]*?\\/[^]*?\\/[^]*?\\/\\s*?(\\d+?)/,'$1').trim();\n    waitAttackNumber = isNaN(waitAttackNumber) ? 0 : waitAttackNumber;\n    //console.log(`wait attack: ${waitAttackNumber}`);\n    return {id: pokemonId, specialAttackNumber: catcherAttackNumber,\n            waitAttackNumber: waitAttackNumber, allowedPokeballs: allowedPokeballs};\n  }\n\n  /* phase 1: open team window */\n  isTeamOpenedAndLoaded() {\n    let panelWithTeam = document.querySelector('#divDockMenu .divDockPanels');\n    let teamDiv = panelWithTeam.querySelector('.divPokeTeam');\n    if(teamDiv.classList.contains('ajxloading')) return false;\n    return true;\n  }\n\n  openTeamDiv() {\n    let menuButtons = document.querySelectorAll('#divDockMenu .divDockIn .icon');\n    if(menuButtons.length < 1) return;\n    menuButtons[1].click();\n  }\n\n  /* phase 2-3 */\n  findPokemonAndClickTheBallById(pokemonId) {\n    //console.log(`trying to call poke with id${pokemonId}`);\n    let ballWasClicked = Array.from(document.querySelectorAll('.divPokeTeam .pokemonBoxCard'))\n      .some(pokemonCard => {\n        let currentIDdiv = pokemonCard.querySelector('.id');\n        if(!currentIDdiv) return false;\n        let currentID = currentIDdiv.innerHTML.match(pokemonId);\n        if(!currentID) return false;\n        let ballToClick = pokemonCard.querySelector('.ball');\n        if(!ballToClick) return false;\n        ballToClick.click();\n        return true;\n      });\n    if(ballWasClicked) return true;\n    console.log(`i cant find pokemon with this id.`);\n    return false;\n  }\n\n  /* phase 4 */\n  sendPokemonInBattle() {\n    //console.log(`now im trying to choose context item \"В битву\"`);\n    let contextItems = Array.from(document.querySelectorAll('.divContext .divElement'));\n    let pokemonChangeStarted = contextItems.some(item => {\n      if(!item.innerHTML.match(/в битву/i)) return false;\n      item.click();\n      return true;\n    });\n    //console.log(`pokemon changing: ${pokemonChangeStarted}`);\n    return pokemonChangeStarted;\n  }\n\n  /* phase 5 */\n  doSpecialAttack(attackNumber) {\n    return this.settings.killerHeart.clickAttack(attackNumber);\n  }\n\n  /* phase 6 */\n  doAttackForWaiting(attackNumber) {\n    return this.settings.killerHeart.clickAttack(attackNumber);\n  }\n\n  isEnemyHpMinimal() {\n    let enemyHp = this.settings.killerHeart.getEnemyHPpercents();\n    if(enemyHp <= 30) return true;\n    return false;\n  }\n\n  /* phase 7 */\n  clickPokeballOnDivFightI() {\n    let dummy = document.querySelector('#divFightI .pokemonBoxDummy');\n    if(dummy) dummy.click();\n    else document.querySelector('#divFightI .pokemonBoxCard .boxleft .ball').click();\n  }\n\n  isDivContextLoaded() {\n    let divContext = document.querySelector('.divContext');\n    if(!divContext || divContext.style.display == 'none') return false;\n    let divContextTitle = document.querySelector('.divContext .divTitle').innerHTML;\n    if(!divContextTitle.match(/выбрать монстра/i)) return false;\n    let pokemons = document.querySelectorAll('.divContext .divElement');\n    if(!pokemons || pokemons.length < 1) return false;\n    return true;\n  }\n\n  /* phase 8 */\n  changePokemonFromDivContext() {\n    let pokemons = document.querySelectorAll('.divContext .divElement');\n    let numberPokemons = document.querySelectorAll('.divContext .divElement .pokemonBoxTiny').length;\n    pokemons[~~((numberPokemons)*Math.random())].click();\n  }\n\n  /* phase 9 */\n  chooseItemInFight() {\n    let callBag = document.querySelectorAll('.divContext .divElement');\n    let numberPokemons = document.querySelectorAll('.divContext .divElement .pokemonBoxTiny').length;\n    let bagNumber = (callBag.length - numberPokemons) == 2 ? callBag.length - 2 : callBag.length - 1;\n    callBag[bagNumber].click();\n  }\n\n  /* phase 10 */\n  isHintsWithItemsLoaded() {\n    let divHintTitle = document.querySelector('.hint .hinttitle').innerHTML;\n    if(!divHintTitle.match(/Использовать в битве/i)) {\n      console.log(`no \"Использовать в битве\"`);\n      return false;\n    }\n    let hintContent = document.querySelector('.hint .hintcontent');\n    let balls = document.querySelectorAll('.hint .divItemFightlist .item');\n    if(!balls || balls.length < 1 || hintContent.classList.contains('loading'))\n      return false;\n    return true;\n  }\n\n  findAndThrowPokeball(allowedItems) {\n    let items = document.querySelectorAll('.hint .divItemFightlist .item');\n    items = Array.from(items);\n    let ballThrowed = items.some(item => {\n      let itemImage = item.querySelector('img');\n      if(!itemImage) return false;\n      let isItemBall = !!itemImage.src.match(/ball/i);\n      if(!isItemBall) return false;\n      let itemNumber = +itemImage.src.replace(/.*?(\\d+)\\.png/i, '$1');\n      let isItemNumberAllowed = allowedItems.findIndex(item => item == itemNumber);\n      if(isItemNumberAllowed == -1) return false;\n      item.click();\n      return true;\n    });\n    if(!ballThrowed) {\n      console.log('No pokeballs!!!', items);\n      return false;\n    }\n    return true;\n  }\n\n  /*     */\n\n  isPokemonWasCaught() {\n    return document.querySelector('#divFightLog .greennumber') &&\n      !!document.querySelector('#divFightLog .greennumber').innerHTML.match(/монстр пойман/i);\n  }\n\n  isPokemonCanBeCaught() {\n    let globalVars = JSON.parse(document.querySelector('[data-globalvarsstore]').value);\n    let isPokemonCatchable = !!globalVars.enemyCatchable;\n    /*\n    let teamLink = 'https://game.league17.ru/do/pokes/load/team';\n    let isTeamHaveEmptySlot = await this.settings.organism.sendRequest(teamLink)\n      .then(response => {return response.object ? response.object.length < 6 : 0});*/\n    return isPokemonCatchable;\n  }\n\n  leaveLastPokemonInPC() {\n    let teamLink = 'https://game.league17.ru/do/pokes/load/team';\n    let leavePokemonLink = 'https://game.league17.ru/do/pc/farm/poke';\n    let leavPokemonParams = [{key:'vars', value: 0}];\n    return this.settings.organism.sendRequest(teamLink)\n    .then(response => {\n      return response.object && response.object[response.object.length-1] &&\n      response.object[response.object.length-1].id})\n    .then(id => this.settings.organism.sendRequest(leavePokemonLink, [{key:'vars', value: `${id}/0`}]));\n    //.then(response => console.log(response.alerten && response.alerten.type) );\n  }\n\n}\n\nexport default CatcherHeart;","class CommonHeart {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.settings = {};\n    this.nextPulse = this.nextPulse.bind(this);\n    this.setSettings = this.setSettings.bind(this);\n  }\n\n  nextPulse(params={}) {\n    let newParams = {...params};\n\n    let isFight = this.isFight();\n    //this.showLocationIds();\n\n    newParams.isFight = isFight;\n    return newParams;\n  }\n\n  setSettings(settings = {}) {\n    this.settings = settings;\n  }\n\n  /* game Functions */\n\n  showLocationIds() {\n    let locationButtons = document.querySelectorAll('#divLocGo > .button');\n    let nextLocationButtons = Array.from(locationButtons)\n      .forEach(locationButton => {\n        if(locationButton.innerHTML.match(/\\[id\\d+\\]/)) return;\n        let btnWrapper = locationButton.outerHTML;\n        let locationId = btnWrapper.match(/btnGo\\d+/)[0].replace('btnGo','');\n        locationButton.innerHTML += ` [id${locationId}]`;\n        let contentWidth = locationButton.innerHTML.length*10;\n        if(locationButton.offsetWidth > contentWidth) return;\n        locationButton.style.width = `${contentWidth}px`;\n      });\n  }\n\n  isFight() {\n    let fightDiv = document.querySelector('#divVisioFight');\n    if(fightDiv.style.display == 'none') return 0; //no fight\n    return 1; //fight is right now\n  }\n\n  turnWildPokemons(newState) {\n    let buttonsDiv = document.querySelector('#divInputButtons');\n    let turnWildButton = buttonsDiv.querySelector('.btnSwitchWilds');\n    if(newState != turnWildButton.classList.contains('pressed')) turnWildButton.click();\n  }\n\n  closeFightDiv() {\n    let movesDiv = document.querySelector('#divFightI .moves');\n    let closeButton = document.querySelectorAll('#divFightButtons .button');\n    if((movesDiv && movesDiv.style.display != 'none') || closeButton[4].style.display == 'none') return;\n    closeButton[4].click();\n  }\n\n  getPokemonOpenParameter(options={}) {\n    let nameDivWithPokemonInfo = options.pokemonOwner == 'player' ? '#divFightI' : '#divFightH';\n    let nameDivWithParams = options.parameter == 'exp' ? '.barEXP' : '.barHP';\n    let fightDivWithPokemon = document.querySelector(nameDivWithPokemonInfo);\n    if(!fightDivWithPokemon) return -1;\t// no fight?\n    let paramBar = fightDivWithPokemon.querySelector(nameDivWithParams);\n    if(!paramBar) return -2; //no param bar ?\n    let pokemonParamPercents = +paramBar.firstElementChild.style.width.replace('%','');\n    return pokemonParamPercents;\n  }\n\n  turnAutoFight(newState) {\n    let autofightButtonCheckbox = document.querySelector('[data-changeaction=autofight]>input');\n    if(newState != autofightButtonCheckbox.checked) autofightButtonCheckbox.click();\n  }\n\n  checkingIsTeamOpenedAndLoaded() {\n    let panelWithTeam = document.querySelector('#divDockMenu .divDockPanels');\n    if(!panelWithTeam || panelWithTeam.style.display == 'none') return this.openTeamDiv();\n    let teamDiv = panelWithTeam.querySelector('.divPokeTeam');\n    if(teamDiv.classList.contains('ajxloading'))\n    return this.settings.organism.wait(1000)\n      .then(_ => this.checkingIsTeamOpenedAndLoaded());\n  }\n\n  openTeamDiv() {\n    let menuButtons = document.querySelectorAll('#divDockMenu .divDockIn .icon');\n    if(menuButtons.length < 1) return;\n    menuButtons[1].click();\n    return this.settings.organism.wait(1000)\n      .then(_ => this.checkingIsTeamOpenedAndLoaded());\n  }\n\n}\n\nexport default CommonHeart;","class CookieMaker {\r\n  // возвращает cookie с именем name, если есть, если нет, то undefined\r\n  static getCookie(name) {\r\n    var matches = document.cookie.match(new RegExp(\r\n      \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n  }\r\n\r\n  static setCookie(name, value, options) {\r\n    options = options || {};\r\n\r\n    var expires = options.expires;\r\n\r\n    if (typeof expires == \"number\" && expires) {\r\n      var d = new Date();\r\n      d.setTime(d.getTime() + expires * 1000);\r\n      expires = options.expires = d;\r\n    }\r\n    if (expires && expires.toUTCString) {\r\n      options.expires = expires.toUTCString();\r\n    }\r\n\r\n    value = encodeURIComponent(value);\r\n\r\n    var updatedCookie = name + \"=\" + value;\r\n\r\n    for (var propName in options) {\r\n      updatedCookie += \"; \" + propName;\r\n      var propValue = options[propName];\r\n      if (propValue !== true) {\r\n        updatedCookie += \"=\" + propValue;\r\n      }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n  }\r\n}\r\n\r\nexport default CookieMaker;","class HealerHeart {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.settings = {};\n    this.nextPulse = this.nextPulse.bind(this);\n    this.setSettings = this.setSettings.bind(this);\n    this.healAll =this.healAll.bind(this);\n    this.isTeamRestored = this.isTeamRestored.bind(this);\n  }\n\n  nextPulse(params = {}) {\n    if(!params.needHeal || params.isFight || !this.settings.autoheal) return params;\n    if(params.nextLocationNumber != null && !params.destinationReached) return params;\n    let newParams = {...params};\n\n    if(params.destinationReached && params.direction == 'fwd') {\n      //console.log('we have reached a pc');\n      newParams.direction = 'bck';\n      newParams.destinationReached = false;\n      return this.healAll()\n        .then(_ => newParams);\n    }\n\n    if(params.destinationReached && params.direction != 'fwd') {\n      //console.log('we have back to farm place ;)');\n      newParams.needHeal = false;\n      newParams.needMove = false;\n      this.settings.commonHeart.turnWildPokemons(true);\n      return newParams;\n    }\n\n    //console.info('go to heal');\n    newParams.needMove = true;\n    newParams.waySource = this.settings.waytoheal;\n    return newParams;\n  }\n\n  setSettings(settings={}) {\n    this.settings = settings;\n  }\n\n  /* healing commands */\n\n  healAll() {\n    let healLink = 'https://game.league17.ru/do/pc/heal/poke';\n    let params = [{key:'vars', value: 0}];\n    let healResponseChecker = (response) => {\n      if(!response || !response.alerten || response.alerten.type != 'success') {\n        //console.log(response.alerten);\n        throw 'Error healing';\n      }\n      return true;\n    };\n    return this.settings.organism.sendRequest(healLink, params)\n    .then(healResponseChecker)\n    .then(this.isTeamRestored);\n  }\n\n  isTeamRestored() {\n    let teamRestoringChecker = (teamResponse) => {\n      let team = teamResponse.object;\n      let teamNotRestored = team.some(pokemon => {\n        if(pokemon.hp < pokemon.hp_max) return true;\n        let moves = Object.values(pokemon.moves);\n        let isMovesNotRestored = moves.some(move => {\n          if(!move)return false;\n          return move.pp < move.pp_max;\n        });\n      });\n      return !teamNotRestored;\n    }\n\n    return this.settings.organism.sendRequest('https://game.league17.ru/do/pokes/load/team')\n      .then(teamRestoringChecker);\n    /*\n    let nameDivWithParams = '.barHP';\n    let team = document.querySelectorAll('.divPokeTeam .minicardContainer');\n    if(team.length == 0) return false;\n    let isPokemonsNotRestored = team.some(pokemonCard => {\n      // hp check\n      let hpBar = pokemonCard.querySelector('.barHP');\n      if(!hpBar) return true; //no hp bar ?\n      let pokemonHpPercents = +hpBar.firstElementChild.style.width.replace('%','');\n      if(pokemonHpPercents < 100) return true;\n\n      // pp check\n      let stringsWithPP = pokemonCard.querySelectorAll('.divMoveParams');\n      let isPPNotFull = stringsWithPP.some(stringWithPP => {\n        let currentPP = +stringWithPP.match(/\\d+\\//)[0].replace('/','');\n        let maxPP = +stringWithPP.match(/\\/\\d+/)[0].replace('/','');\n        return currentPP/maxPP < 1;\n      });\n\n      return isPPNotFull;\n    });\n\n    return !isPokemonsNotRestored; */\n  }\n\n}\n\nexport default HealerHeart;","let func = `(function() {\n  let tempStore = '{}';\n\n  function getOldInfo() {\n    let store = document.querySelector('[data-globalvarsstore]');\n    if(!store) return JSON.parse(tempStore);\n    let oldInfo = store.value ? JSON.parse(store.value) : JSON.parse(tempStore);\n    return oldInfo;\n  }\n\n  function saveInfoToStore(infoData) {\n    let store = document.querySelector('[data-globalvarsstore]');\n    if(!store) {\n      tempStore = JSON.stringify(infoData);\n      return;\n    }\n    store.value = JSON.stringify(infoData);\n  }\n\n  function parseResponse(request) {\n    try{\n      let respBody = JSON.parse(request.response);\n      let info = getOldInfo();\n      if(respBody.object) {\n        let obj = respBody.object;\n        info.t_key = obj.key ? obj.key : info.t_key;\n        info.locId = obj.loc ? obj.loc.id : info.locId;\n        if (obj.fight) {\n          info.enemyHPmax = obj.fight.side.H.poke.hp_max || info.enemyHPmax;\n          info.enemyNumber = obj.fight.side.H.poke.sp_id || info.enemyNumber;\n          info.enemyLvl = obj.fight.side.H.poke.lvl || info.enemyLvl;\n          info.enemyShine = obj.fight.side.H.poke.shine || info.enemyShine;\n          info.enemyCatchable = !obj.fight.side.H.poke.wild.nocatch || info.enemyCatchable;\n          info.weather = obj.fight.weather || info.weather;\n        }\n\n        let side = obj.fight && obj.fight.side || obj.side;\n        if(side) {\n          info.enemyHP = side.H.poke.hp || info.enemyHP;\n          info.playerPokHP = side.I.poke.hp || info.playerPokHP;\n          info.playerPokMaxHP = side.I.poke.hp_max || info.playerPokMaxHP;\n          info.playerPokExp = side.I.poke.exp.cur || info.playerPokExp;\n          info.playerPokNextExp = side.I.poke.exp.next || info.playerPokNextExp;\n          info.playerPokPrevExp = side.I.poke.exp.prev || info.playerPrevExp;\n          info.playerMovesPP = side.I.poke.moves && isNaN(side.I.poke.moves) &&\n            Object.values(side.I.poke.moves)\n            .filter(_ => _).map(move => ({pp: move.pp, maxpp: move.pp_max})) || info.playerMovesPP;\n        }\n\n        saveInfoToStore(info);\n      }\n    } catch(err) {\n      console.log(\\`Error getting response\\n\\`, err, '\\\\nRequest:', {...request}, '\\\\nResponse:', JSON.stringify(request.response, null, 2));\n    }\n  }\n\n  let origOpen = XMLHttpRequest.prototype.open;\n  let origSend = XMLHttpRequest.prototype.send;\n  let exampleRequest = {};\n  XMLHttpRequest.prototype.open = function() {\n      exampleRequest.openArgs = arguments;\n      this.addEventListener('load', function(evt) {\n          if(this.status != 200) return;\n          exampleRequest.response = this.responseText;\n          parseResponse(exampleRequest);\n      });\n\n      origOpen.apply(this, arguments);\n  };\n\n  XMLHttpRequest.prototype.send = function() {\n      exampleRequest.sendArgs = arguments;\n      origSend.apply(this, arguments);\n  };\n\n\n})();`;\n\nexport default function createRequestsHook() {\n  let scr = document.createElement('script');\n  let code = document.createTextNode(func);\n  scr.appendChild(code);\n  (document.body || document.head).appendChild(scr);\n}","export default function spillGlobalVars() {\r\n  let scr = document.createElement('script');\r\n  scr.setAttribute('data-mustbedeleted','');\r\n  let func = `function getTKey() {\r\n    let elementToWrite = document.querySelector('[data-globalvarsstore]');\r\n    let key = 'not_found';\r\n    for(let keyWord in window){\r\n      if(window[keyWord] && window[keyWord].key && (typeof window[keyWord].key).match(/string/i)) {\r\n        key = window[keyWord].key;\r\n      }\r\n    }\r\n    let globalvarsobject = {\r\n      t_key: key\r\n    }\r\n    elementToWrite.value = JSON.stringify(globalvarsobject);\r\n    let src = document.querySelector('[data-mustbedeleted]');\r\n    src.remove();\r\n  }`;\r\n  let code = document.createTextNode(`(${func})()`);\r\n  scr.appendChild(code);\r\n  (document.body || document.head).appendChild(scr);\r\n};","class KillerHeart {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.settings = {};\n    this.nextPulse = this.nextPulse.bind(this);\n    this.setSettings = this.setSettings.bind(this);\n  }\n\n  switchAlarm(value) {\n    if(!value || !this.settings.alarmswitch) return this.settings.organism.alarm.stopPlay();\n    this.settings.organism.alarm.startPlay();\n  }\n\n  nextPulse(params = {}) {\n    if(!params.isFight) {\n      return params;\n    }\n\n    let newParams = {...params};\n\n    let isCaptcha = this.isCaptchaEnterNeed();\n    newParams.isCaptcha = isCaptcha;\n    if(isCaptcha) {\n      console.log('u should enter captcha');\n\n      // for electron wrapper\n      if (window.killerExtension && window.killerExtension.shotCaptcha) {\n        window.killerExtension.shotCaptcha();\n      }\n\n      this.switchAlarm(true);\n      return newParams;\n    };\n    this.switchAlarm(false);\n\n    let numberOfPermittedAttacks = this.getNumberOfPermittedAttacks();\n    if(!numberOfPermittedAttacks) {\n      //console.log('no permitted attacks');\n      return newParams;\n    };\n\n    newParams.killedCounter = newParams.killedCounter ? newParams.killedCounter : 0;\n    let fightStatus = this.getFightStatus();\n    switch(fightStatus) {\n      case 1: case 2: case 3:\n        if(fightStatus == 2) this.settings.organism.killedCounter++;\n        if(newParams.needCatch && newParams.catchParams) {\n          newParams.catchParams.catched = this.settings.catcherHeart.isPokemonWasCaught();\n          newParams.catchParams.phase = 7;\n        }\n        this.settings.commonHeart.closeFightDiv();\n        return newParams;\n      case 4:\n        console.log(`Pokemon was killed but enemy was killed too`);\n        this.settings.organism.killedCounter++;\n        this.settings.commonHeart.turnWildPokemons(false);\n        this.settings.commonHeart.closeFightDiv();\n        newParams.needHeal = true;\n        return newParams;\n      case 5:\n        console.log(`Pokemon was killed`);\n        this.settings.commonHeart.turnWildPokemons(false);\n        //this.settings.commonHeart.closeFightDiv();\n        newParams.needHeal = true;\n        return this.changePokemon().then(_ => newParams);\n    }\n\n    if(this.settings.controlexp && !isNaN(this.settings.controlexp)) {\n      let currentExp = this.getPlayerPokemonCurrentEXPpercents();\n      let criticalExp = this.settings.controlexp > 90 ? this.settings.controlexp : 90;\n      if(currentExp >= criticalExp) return;\n    }\n\n    let currentHp = this.getPlayerPokemonCurrentHPpercents();\n    let criticalHp = this.settings.controlhp > 20 ? this.settings.controlhp : 20;\n    if(currentHp <= criticalHp) {\n      this.settings.commonHeart.turnWildPokemons(false);\n      newParams.needHeal = true;\n    }\n\n    let enemyPokemonNumber = this.getEnemyPokemonNumberAsString();\n    newParams.lastPokemonNumber = enemyPokemonNumber;\n    if( this.isAttackForbiddenForThisNumber() &&\n        (this.settings.catcherHeart.isPokemonCanBeCaught() ||\n        !this.settings.catcherHeart.isPokemonShouldBeCaughtAutomatically())) {\n      //console.log('forbidden pokemon');\n\n      newParams.waitingForCatchCounter && newParams.waitingForCatchCounter++ ||\n        (newParams.waitingForCatchCounter = 0);\n      newParams.needCatch = true;\n      return newParams;\n    }\n\n    let enemyType = this.isEnemyNormal();\n    if(!enemyType) {\n      console.log('Enemy is shine or smt else');\n      this.switchAlarm();\n      //newParams.needCatch = true;\n      newParams.waitingForCatchCounter && newParams.waitingForCatchCounter++ ||\n        (newParams.waitingForCatchCounter = 0);\n      return newParams;\n    }\n\n    this.repeatAttackCounter = 0;\n    if(this.numberOfPermittedAttacksPP() < 2) {\n      console.log('PP is over. Need Heal');\n      this.settings.commonHeart.turnWildPokemons(false);\n      newParams.needHeal = true;\n      this.chooseAttack(true);\n      return newParams;\n    }\n\n    this.chooseAttack();\n    return newParams;\n  }\n\n  /* fight actions & parametres */\n\n  isCaptchaEnterNeed() {\n    let captchaDiv = document.querySelector('#divFightCaptcha');\n    let captchaImage = captchaDiv.querySelector('img');\n    if(captchaDiv.style.display == 'none' ||\n        !captchaImage ||\n        captchaImage.src == undefined)\n      return 0; // there is no captcha form\n    return 1; // oops, it wants captcha\n  }\n\n  getFightStatus() {\n    let fightStatusText = document.querySelector('#divFightAction').innerHTML;\n    if(fightStatusText.match(/ничья/i)) return 1; // draw\n    if(fightStatusText.match(/вы победили/i)) return 2; // victory\n    if(fightStatusText.match(/вы проиграли/i)) return 3; // lose\n\n    let dummyInsteadPlayerPokemon = document.querySelector('#divFightI .pokemonBoxDummy');\n    let dummyInsteadEnemyPokemon = document.querySelector('#divFightH .pokemonBoxDummy');\n    if(dummyInsteadPlayerPokemon && dummyInsteadEnemyPokemon) return 4;\n    //pokemon was killed/changed but u can close window\n    if(dummyInsteadPlayerPokemon && !dummyInsteadEnemyPokemon) return 5;\n    //pokemon was killed/changed but u can get another\n\n    return 0; // it's okay, fight is continuing\n  }\n\n  getNumberOfPermittedAttacks() {\n    return this.settings.attack.filter(attack=>attack==1).length;\n  }\n\n  getWeather() {\n    let weatherDiv = document.querySelector('#divFightWeather');\n    let hail = weatherDiv.querySelector('.w3');\n    if(hail) return 1; // hail\n    let sandstorm = weatherDiv.querySelector('.w4');\n    if(sandstorm) return 2; //sandstorm\n    return 0; // sun/rain etc\n  }\n\n  chooseAttack(lastTry) {\n    if(!this.getNumberOfPermittedAttacks()) return;\n    //if(this.numberOfPermittedAttacksPP() < 1) return; //excess checking\n    let randomAttack = ~~(Math.random()*4);\n    if(this.settings.attack[randomAttack]) {\n      let resultClicking = this.clickAttack(randomAttack, lastTry);\n      if(resultClicking) return;\n    }\n    this.repeatAttackCounter++;\n    if(this.repeatAttackCounter > 100) throw 'Too much attacks repeat';\n    this.chooseAttack(lastTry);\n  }\n\n  clickAttack(attackNumber, lastTry) {\n    if(attackNumber > 3 || attackNumber < 0) return false;\n    if(this.getPlayerPokemonAttackPP(attackNumber) < 1 && !lastTry) return false;\n    let moveBox = document.querySelectorAll('#divFightI .moveBox')[attackNumber];\n    if(!moveBox) return false;\n    if(!moveBox.querySelector('.divMove')) return false;\n    let divForClicking = moveBox.querySelector('.divMoveInfo');\n    divForClicking.click();\n    return true;\n  }\n\n  /* switch pokemon */\n\n  checkIsPokemonsListToChangeLoaded() {\n    let divContextTitle = document.querySelector('.divContext .divTitle').innerHTML;\n    if(!divContextTitle.match(/выбрать монстра/i)) return this.changePokemon();\n    let pokemons = document.querySelectorAll('.divContext .divElement');\n    if(!pokemons || pokemons.length < 1)\n    return this.settings.organism.wait(1000)\n      .then(_ => this.checkIsPokemonsListToChangeLoaded());\n    return true;\n  }\n\n  changePokemon() {\n    return this.settings.organism.wait(500)\n    .then(_ => {\n      document.querySelector('#divFightI .pokemonBoxDummy').click();\n    })\n    .then(_ => this.settings.organism.wait(1000))\n    .then(_ => this.checkIsPokemonsListToChangeLoaded())\n    .then(_ => {\n      let pokemons = document.querySelectorAll('.divContext .divElement');\n      pokemons[~~(pokemons.length*Math.random())].click();\n    })\n    .then(_ => this.settings.organism.wait(1000))\n  }\n\n  /* infight parametres & actions with player pokemon */\n\n  getPlayerPokemonCurrentHPpercents() {\n    return this.settings.commonHeart.getPokemonOpenParameter({pokemonOwner:'player',parameter:'hp'});\n  }\n\n  getPlayerPokemonCurrentEXPpercents() {\n    return this.settings.commonHeart.getPokemonOpenParameter({pokemonOwner:'player',parameter:'exp'});\n  }\n\n  getPlayerPokemonAttackPP(attackNumber) {\n    if(attackNumber > 3 || attackNumber < 0) return false;\n    let stringWithPP = document.querySelectorAll('#divFightI .divMoveParams')[attackNumber].innerHTML;\n    let currentPPValue = +stringWithPP.replace(/\\/\\d+/,'');\n    return currentPPValue;\n  }\n\n  numberOfPermittedAttacksPP() {\n    let sumOfAllPermittedAttacksPP =\n      this.settings.attack.reduce((sum, attackPermission, index) => {\n        if(!attackPermission) return sum;\n        return sum + this.getPlayerPokemonAttackPP(index);\n      }, 0);\n    return sumOfAllPermittedAttacksPP;\n  }\n\n  /* infight parametres & actions with enemy pokemon */\n\n  isEnemyCanBeCaught() {\n    let noCatch = document.querySelector('#divFightOptions .nocatch');\n    return noCatch != null;\n  }\n\n  getEnemyPokemonNumberAsString() {\n    let enemyImage = document.querySelector('#divFightH .image > img');\n    if(!enemyImage) return 0;\n    let enemyNumber = enemyImage.src.match(/\\d{3}/)[0];\n    return enemyNumber;\n  }\n\n  getEnemyLevel() {\n    let enemyLevelDiv = document.querySelector('#divFightH .lvl');\n    if(!enemyLevelDiv) return 0;\n    let enemyLevel = +enemyLevel.innerHTML;\n    return enemyLevel;\n  }\n\n  isEnemyNormal() {\n    let enemyRankDiv = document.querySelector('#divFightH .rank');\n    if(!enemyRankDiv) return true;\n    let enemyRankSpan = enemyRankDiv.querySelector('span');\n    if(!enemyRankSpan) {\n      let enemyRank = enemyRankDiv.innerHTML;\n      if(enemyRank.match(/\\S+/)) return false;\n    } else {\n      if(enemyRankSpan.innerHTML.match(/\\S+/)) return false;\n    }\n    return true;\n  }\n\n  getEnemyHPpercents() {\n    return this.settings.commonHeart.getPokemonOpenParameter({pokemonOwner:'enemy',parameter:'hp'});\n  }\n\n  isAttackForbiddenForThisNumber() {\n    let currentNumber = this.getEnemyPokemonNumberAsString();\n    let forbiddenNumbers = this.settings.forbiddennumbers.match(/\\d{1,3};?/g);\n    if(!forbiddenNumbers) return false;\n    return forbiddenNumbers.some(number => +currentNumber == +(number.replace(';','')));\n  }\n\n  /* common actions */\n\n  setSettings(settings={}) {\n    this.settings = settings;\n  }\n\n}\n\nexport default KillerHeart;","let killerHtml = `<div class=\"killer__wrapper\">\r\n  <div class=\"killer__topPanel\"></div>\r\n  <div class=\"killer__controlPanel\">\r\n    <label class=\"killer__controlPanelLabel killer__controlPanelLabel--row\" data-changeaction=\"autofight\">\r\n      <input type=\"checkbox\" />\r\n      <span>AF</span>\r\n    </label>\r\n    <label class=\"killer__controlPanelLabel killer__controlPanelLabel--halfRow\" data-changeaction=\"attack\" data-attacknumber=\"1\">\r\n      <input type=\"checkbox\" />\r\n      <span>Attack 1</span>\r\n    </label>\r\n    <label class=\"killer__controlPanelLabel killer__controlPanelLabel--halfRow\" data-changeaction=\"attack\" data-attacknumber=\"2\">\r\n      <input type=\"checkbox\" />\r\n      <span>Attack 2</span>\r\n    </label>\r\n    <label class=\"killer__controlPanelLabel killer__controlPanelLabel--halfRow\" data-changeaction=\"attack\" data-attacknumber=\"3\">\r\n      <input type=\"checkbox\" />\r\n      <span>Attack 3</span>\r\n    </label>\r\n    <label class=\"killer__controlPanelLabel killer__controlPanelLabel--halfRow\" data-changeaction=\"attack\" data-attacknumber=\"4\">\r\n      <input type=\"checkbox\">\r\n      <span>Attack 4</span>\r\n    </label>\r\n    <div class=\"killer__controlPanelCell\" data-action=\"showsettings\">\r\n      <button class=\"button\">Settings</button>\r\n    </div>\r\n  </div>\r\n  <input data-globalvarsstore=\"\" type=\"hidden\" value=\"\">\r\n</div>`;\r\n\r\n\r\nclass KillerContainer {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  createView() {\r\n    let tempDiv = document.createElement('div');\r\n    tempDiv.innerHTML = killerHtml;\r\n    return tempDiv.firstChild;\r\n  }\r\n\r\n  init() {\r\n    this.mainContainer = this.createView();\r\n      this.topPanel = this.mainContainer.querySelector('.killer__topPanel');\r\n      this.controlPanel = this.mainContainer.querySelector('.killer__controlPanel');\r\n      this.globalVarsStore = this.mainContainer.querySelector('[data-globalvarsstore]');\r\n\r\n    this.addTopPanelDragListeners();\r\n\r\n    this.controlPanel.addEventListener(\r\n      'click',\r\n      (evt)=>{this.controlPanelClickListener(evt);}\r\n    );\r\n  }\r\n\r\n  createTopPanel() {\r\n    let topPanel = document.createElement('div');\r\n      topPanel.classList.add('killerMainContainer__topPanel');\r\n    return topPanel;\r\n  }\r\n\r\n  createHiddenInputForGlobalVars() {\r\n    let hiddenDB = document.createElement('input');\r\n    hiddenDB.setAttribute('data-globalvarsstore','');\r\n    hiddenDB.type = 'hidden';\r\n    return hiddenDB;\r\n  }\r\n\r\n  addTopPanelDragListeners() {\r\n    let panel = this.topPanel;\r\n    let moveFlag = false;\r\n    panel.addEventListener('mousedown', ()=>moveFlag=true);\r\n    panel.addEventListener('mouseup', ()=>moveFlag=false);\r\n    document.body.addEventListener('mousemove',(evt)=>{\r\n      if(!moveFlag) return;\r\n      let newTop = evt.pageY - 2*this.topPanel.offsetHeight/3;\r\n      this.mainContainer.style.top = `${newTop}px`;\r\n      let newLeft = evt.pageX - this.mainContainer.offsetWidth/2;\r\n      this.mainContainer.style.left = `${newLeft}px`;\r\n    });\r\n  }\r\n\r\n  getMainContainerElement() {\r\n    return this.mainContainer;\r\n  }\r\n\r\n  controlPanelClickListener(evt) {\r\n    if(evt.target.tagName == 'INPUT'){\r\n      let changedAction = evt.target.parentNode.dataset['changeaction'];\r\n      if(changedAction == 'autofight') {\r\n        if(!this.autoFightStatusChangedListener) return;\r\n        this.autoFightStatusChangedListener(evt.target.checked);\r\n      }\r\n      if(changedAction == 'attack') {\r\n        if(!this.attackStatusChangedListener) return;\r\n        let changedAttackNumber = evt.target.parentNode.dataset['attacknumber'];\r\n        this.attackStatusChangedListener(evt.target.checked, changedAttackNumber);\r\n      }\r\n    }\r\n    if(evt.target.tagName == 'BUTTON') {\r\n      let action = evt.target.parentNode.dataset['action'];\r\n      if(action == 'showsettings') {\r\n        if(!this.settingsButtonClickListener) return;\r\n        this.settingsButtonClickListener();\r\n      }\r\n    }\r\n  }\r\n\r\n  setAutoFightStatusChangedListener(listener) {\r\n    this.autoFightStatusChangedListener = listener;\r\n  }\r\n\r\n  setAttackStatusChangedListener(listener) {\r\n    this.attackStatusChangedListener = listener;\r\n  }\r\n\r\n  setSettingsClickListener(listener) {\r\n    this.settingsButtonClickListener = listener;\r\n  }\r\n}\r\n\r\nexport default KillerContainer;","let settingsViewHtml = `<div class=\"killerSettings__wrapper\">\r\n<div class=\"killerSettings__topPanel\"></div>\r\n<div class=\"killerSettings__controlPanel\">\r\n  <div class=\"killerSettings__controlPanelRow\">\r\n    <div class=\"killerSettings__controlPanelCell\">\r\n      <label class=\"killerSettings__row\" data-changeaction=\"showpokemons\">\r\n        <span>Show pokemons:</span>\r\n        <input type=\"checkbox\" />\r\n      </label>\r\n      <label class=\"killerSettings__row killerSettings__row--innerColumn\" data-changeaction=\"forbiddennumbers\">\r\n        <span>Forbidden numbers:</span>\r\n        <textarea></textarea>\r\n      </label>\r\n      <label class=\"killerSettings__row killerSettings__row--innerColumn\">\r\n        <span>Counter of killed wild pokemons:</span>\r\n        <input type=\"text\" disabled class=\"killerSettings__input killerSettings__input--max\" data-view=\"killedwild\"/>\r\n      </label>\r\n      <label class=\"killerSettings__row\" data-changeaction=\"controlexp\">\r\n        <span>EXP control, %:</span>\r\n        <input type=\"text\" class=\"killerSettings__input\" />\r\n      </label>\r\n    </div>\r\n    <div class=\"killerSettings__controlPanelCell\">\r\n      <label class=\"killerSettings__row\" data-changeaction=\"autoheal\">\r\n        <span>Auto heal:</span>\r\n        <input type=\"checkbox\" />\r\n      </label>\r\n      <label class=\"killerSettings__row killerSettings__row--innerColumn\" data-changeaction=\"waytoheal\">\r\n        <span>Way to healing:</span>\r\n        <textarea></textarea>\r\n      </label>\r\n      <label class=\"killerSettings__row\" data-changeaction=\"controlhp\">\r\n        <span>HP control, %:</span>\r\n        <input type=\"text\" class=\"killerSettings__input\" />\r\n      </label>\r\n    </div>\r\n  </div>\r\n  <div class=\"killerSettings__controlPanelRow\">\r\n    <div class=\"killerSettings__controlPanelCell\">\r\n      <label class=\"killerSettings__row\" data-changeaction=\"alarmswitch\">\r\n        <span>Alarm:</span>\r\n        <input type=\"checkbox\" />\r\n      </label>\r\n      <label class=\"killerSettings__row\" data-changeaction=\"alarmvolume\">\r\n        <span>Alarm volume (0-100):</span>\r\n        <input class=\"killerSettings__input killerSettings__input--min\" type=\"text\" value=\"10\" />\r\n      </label>\r\n      <label class=\"killerSettings__row killerSettings__row--innerColumn\" data-changeaction=\"alarmsrc\" style=\"display:none\">\r\n        <span>Alarm source:</span>\r\n        <input class=\"killerSettings__input killerSettings__input--max\" type=\"text\" />\r\n      </label>\r\n    </div>\r\n    <div class=\"killerSettings__controlPanelCell\">\r\n      <label class=\"killerSettings__row\" data-changeaction=\"showiv\">\r\n        <span>Show IV HP:</span>\r\n        <input type=\"checkbox\" />\r\n      </label>\r\n      <label class=\"killerSettings__row\" data-changeaction=\"autocatch\">\r\n        <span>Autocatch:</span>\r\n        <input type=\"checkbox\" />\r\n      </label>\r\n      <label class=\"killerSettings__row killerSettings__row--innerColumn\" data-changeaction=\"autocatchsettings\">\r\n        <textarea></textarea>\r\n      </label>\r\n    </div>\r\n  </div>\r\n  <div class=\"killerSettings__controlPanelRow\">\r\n    <button class=\"button\">Save</button>\r\n  </div>\r\n</div>\r\n</div>`;\r\n\r\nclass SettingsContainer {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.mainWrapper = this.createView();\r\n      this.topPanel = this.mainWrapper.querySelector('.killerSettings__topPanel');\r\n      this.controlPanel = this.mainWrapper.querySelector('.killerSettings__controlPanel');\r\n\r\n    this.addTopPanelDragListeners();\r\n\r\n    this.changeListeners = {};\r\n\r\n    this.controlPanel.addEventListener(\r\n      'change',\r\n      (evt)=>{this.controlPanelChangeListener(evt);}\r\n    );\r\n  }\r\n\r\n  createView() {\r\n    let tempDiv = document.createElement('div');\r\n    tempDiv.innerHTML = settingsViewHtml;\r\n    return tempDiv.firstChild;\r\n  }\r\n\r\n  getMainContainerElement() {\r\n    return this.mainWrapper;\r\n  }\r\n\r\n  addTopPanelDragListeners() {\r\n    let panel = this.topPanel;\r\n    let moveFlag = false;\r\n    panel.addEventListener('mousedown', ()=>moveFlag=true);\r\n    panel.addEventListener('mouseup', ()=>moveFlag=false);\r\n    document.body.addEventListener('mousemove',(evt)=>{\r\n      if(!moveFlag) return;\r\n      let newTop = evt.pageY - 2*panel.offsetHeight/3;\r\n      this.mainWrapper.style.top = `${newTop}px`;\r\n      let newLeft = evt.pageX - this.mainWrapper.offsetWidth/2;\r\n      this.mainWrapper.style.left = `${newLeft}px`;\r\n    });\r\n  }\r\n\r\n  controlPanelChangeListener(evt) {\r\n    if(evt.target.tagName == 'TEXTAREA' || evt.target.tagName == 'INPUT'){\r\n      let changedAction = evt.target.parentNode.dataset['changeaction'];\r\n      if(changedAction == 'forbiddennumbers' ||\r\n         changedAction == 'waytoheal' ||\r\n         changedAction == 'controlhp' ||\r\n         changedAction == 'controlexp' ||\r\n         changedAction == 'autocatchsettings' ||\r\n         changedAction == 'alarmvolume' ||\r\n         changedAction == 'alarmsrc') {\r\n        if(!this.changeListeners[changedAction]) return;\r\n        this.changeListeners[changedAction](evt.target.value);\r\n      }\r\n      if(changedAction == 'showpokemons' ||\r\n         changedAction == 'autoheal' ||\r\n         changedAction == 'showiv' ||\r\n         changedAction == 'autocatch' ||\r\n         changedAction == 'alarmswitch' ) {\r\n        if(!this.changeListeners[changedAction]) return;\r\n        this.changeListeners[changedAction](evt.target.checked);\r\n      }\r\n    }\r\n  }\r\n\r\n  /* funcs for setting listeners */\r\n  setChangeListener(type, listener) {\r\n    this.changeListeners[type] = listener;\r\n  }\r\n}\r\n\r\nexport default SettingsContainer;","class TravellerHeart {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.nextPulse = this.nextPulse.bind(this);\r\n    this.setSettings = this.setSettings.bind(this);\r\n  }\r\n\r\n  setSettings(settings={}) {\r\n    this.settings = settings;\r\n  }\r\n\r\n  nextPulse(params={}) {\r\n    let newParams = {...params};\r\n    if(!params.needMove) {\r\n      newParams.nextLocationNumber = null;\r\n      newParams.direction = 'fwd';\r\n      newParams.waySource = '';\r\n      newParams.prevLocationWays = null;\r\n      newParams.destinationReached = false;\r\n    }\r\n\r\n    //console.log(`is fight? ${params.isFight}`, `is Need Move? ${params.needMove}`,\r\n     // `isDestReached ${newParams.destinationReached}`);\r\n\r\n    if(params.isFight || !params.needMove || newParams.destinationReached) return newParams;\r\n\r\n    /*\r\n    if(params.onWrongPlaceCounter > 3) {\r\n      newParams.nextLocationNumber--;\r\n      newParams.prevLocationWays = null;\r\n      return newParams;\r\n    } */\r\n\r\n    //console.log(`place changed?: ${params.prevLocationWays != null && !this.isPlaceWasChanged(params.prevLocationWays)}`);\r\n    if(params.prevLocationWays != null && !this.isPlaceWasChanged(params.prevLocationWays)) {\r\n      //console.log(`place wasn't changed. prev:`, params.prevLocationWays, `counter: `, newParams.onWrongPlaceCounter);\r\n      //newParams.onWrongPlaceCounter = newParams.onWrongPlaceCounter && newParams.onWrongPlaceCounter + 1 || 1;\r\n      return newParams;\r\n    }\r\n\r\n    //newParams.onWrongPlaceCounter = 0;\r\n    //console.log(`direction: ${newParams.direction}`);\r\n\r\n    let wayChain = this.getWay(params.waySource, params.direction);\r\n    let locationNumber = params.nextLocationNumber != null ? params.nextLocationNumber : 0;\r\n\r\n    if(locationNumber >= wayChain.length) {\r\n      newParams.nextLocationNumber = 0;\r\n      newParams.destinationReached = true;\r\n      return newParams;\r\n    }\r\n\r\n    //console.log(wayChain[locationNumber]);\r\n    newParams.nextLocationNumber = locationNumber + 1;\r\n    newParams.prevLocationWays = this.goToLocation(wayChain[locationNumber]);\r\n    return newParams;\r\n  }\r\n\r\n  getWay(waytoheal, direction) {\r\n    if(!waytoheal) return 1; //no input value or empty\r\n    let way = direction == 'fwd' ? waytoheal.match(/([^]+?)\\//) : waytoheal.match(/\\/([^]+)/);\r\n    if(!way) return 2; // no slash in input value\r\n    way = way[1].split(';').map(_ => _.trim()).filter(_ => _);\r\n    return way;\r\n  }\r\n\r\n  goToLocation(locationName) {\r\n    //console.log(locationName);\r\n    let locationNumber = locationName.match(/\\s+\\d+/);\r\n    if(locationNumber) locationName = locationName.replace(/\\s+\\d+/, '');\r\n    locationNumber = locationNumber && !isNaN(+locationNumber[0]) && +locationNumber[0] || 0;\r\n    let locationButtons = document.querySelectorAll('#divLocGo > .button');\r\n    if(locationButtons.length < 1) {\r\n      console.log('There is no exit');\r\n      throw 'No exit here';\r\n    }\r\n\r\n    let nextLocationButtons = Array.from(locationButtons)\r\n      .filter(locationButton => locationButton.innerHTML.match(new RegExp(locationName, 'i')));\r\n\r\n    if(nextLocationButtons.length < 1) {\r\n      console.log(`no such place: ${locationName}`);\r\n      throw `no such place: ${locationName}`;\r\n    }\r\n\r\n    //console.log(`nextLoc: ${locationNumber}`, nextLocationButtons);\r\n    let nextLocationButton = nextLocationButtons[locationNumber];\r\n    //console.log(`nextLocBtn:`, nextLocationButton);\r\n    nextLocationButton.click();\r\n\r\n    return locationButtons;\r\n  }\r\n\r\n  isPlaceWasChanged(oldLocationButtons) {\r\n    let locationButtons = document.querySelectorAll('#divLocGo > .button');\r\n    if(oldLocationButtons.length != locationButtons.length) return true;\r\n\r\n    for(let i = 0; i < oldLocationButtons.length; i++) {\r\n      let locationIdForOldButton = oldLocationButtons[0].outerHTML.match(/btnGo\\d+/).toString();\r\n      let locationIdForNewButton = locationButtons[0].outerHTML.match(/btnGo\\d+/).toString();\r\n      if(locationIdForNewButton != locationIdForOldButton) return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default TravellerHeart;","class TravellerTentacle {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n\r\n  }\r\n\r\n  setSettings(settings={}) {\r\n    this.settings = settings;\r\n  }\r\n\r\n  go(to) {\r\n    let direction = to == 'heal' ? 'fwd' : 'bck';\r\n    let way = this.getWay(this.settings.waytoheal, direction);\r\n    if(way == 1 || way == 2) throw 'no way';\r\n    let walkingTheWay = way.reduce((chain, nextWay) =>\r\n      chain.then(_ => this.goToLocation(nextWay)),\r\n      Promise.resolve());\r\n    return walkingTheWay;\r\n  }\r\n\r\n  getWay(waytoheal, direction) {\r\n    if(!waytoheal) return 1; //no input value or empty\r\n    let way = direction == 'fwd' ? waytoheal.match(/([^]+?)\\//) : waytoheal.match(/\\/([^]+)/);\r\n    if(!way) return 2; // no slash in input value\r\n    way = way[1].split(';').map(_ => _.trim()).filter(_ => _);\r\n    return way;\r\n  }\r\n\r\n  goToLocation(locationName) {\r\n    let locationNumber = locationName.match(/\\s+\\d+/);\r\n    if(locationNumber) loactionName = locationName.replace(/\\s+\\d+/, '');\r\n    locationNumber = locationNumber ? locationNumber[0] : 0;\r\n    let locationButtons = document.querySelectorAll('#divLocGo > .button');\r\n    if(locationButtons.length < 1) {\r\n      console.log('There is no exit');\r\n      throw 'No exit here';\r\n    }\r\n\r\n    let nextLocationButtons = Array.from(locationButtons)\r\n      .filter(locationButton => locationButton.innerHTML.match(new RegExp(locationName, 'i')));\r\n\r\n    if(nextLocationButtons.length < 1) {\r\n      console.log(`no such place: ${locationName}`);\r\n      throw `no such place: ${locationName}`;\r\n    }\r\n\r\n    let nextLocationButton = nextLocationButtons[locationNumber];\r\n    //let locationId = nextLocationButton.outerHTML.match(/btnGo\\d+/)[0].replace('btnGo','');\r\n\r\n    nextLocationButton.click();\r\n\r\n    return this.settings.organism.wait(1000)\r\n    .then(_ => this.isPlaceWasChanged(locationButtons));\r\n  }\r\n\r\n  isPlaceWasChanged(oldLocationButtons) {\r\n    let locationButtons = document.querySelectorAll('#divLocGo > .button');\r\n    if(oldLocationButtons.length != locationButtons.length) return true;\r\n\r\n    for(let i = 0; i < oldLocationButtons.length; i++) {\r\n      let locationIdForOldButton = oldLocationButtons[0].outerHTML.match(/btnGo\\d+/).toString();\r\n      let locationIdForNewButton = locationButtons[0].outerHTML.match(/btnGo\\d+/).toString();\r\n      if(locationIdForNewButton != locationIdForOldButton) return true;\r\n    }\r\n\r\n    //console.log('waiting for place changing');\r\n    return this.settings.organism.wait(1000)\r\n      .then(_ => this.isPlaceWasChanged(oldLocationButtons));\r\n  }\r\n}\r\n\r\nexport default TravellerTentacle;","import KillerContainer from './MainContainer';\nimport CommonHeart from './CommonHeart';\nimport KillerHeart from './KillerHeart';\nimport HealerHeart from './HealerHeart';\nimport CatcherHeart from './CatcherHeart';\nimport TravellerHeart from './TravellerHeart';\nimport TravellerTentacle from './TravellerTentacle';\nimport SettingsView from './SettingsContainer';\nimport setRequestsHook from './Inject/RequestsHook';\nimport spillGlobalVars from './Inject/TKeyGetter';\nimport CookieMaker from './CookieMaker';\nimport Alarm from './Alarm';\n\nlet lifesCounter = 0;\n\nclass Killer {\n  constructor(imageReplacer){\n    //this.init();\n    this.setDocumentObserver();\n    setRequestsHook();\n    this.imageReplacer = imageReplacer;\n  }\n\n  init() {\n    this.alarm = new Alarm();\n    this.settingsParametres  = ['forbiddennumbers', 'waytoheal', 'showpokemons', 'autoheal',\n      'showiv', 'controlhp', 'controlexp', 'autocatch', 'autocatchsettings',\n      'alarmsrc', 'alarmswitch', 'alarmvolume'];\n    let killerView = new KillerContainer();\n    let settingsView = new SettingsView();\n\n    let commonHeart = new CommonHeart();\n    let killerHeart = new KillerHeart();\n    let healerHeart = new HealerHeart();\n    let catcherHeart = new CatcherHeart();\n    let travellerHeart = new TravellerHeart();\n    let travellerTentacle = new TravellerTentacle();\n\n    this.settings = {\n      'autofight': false,\n      'attack': [0,0,0,0],\n      'forbiddennumbers': '',\n      'showpokemons': true,\n      'autoheal': true,\n      'commonHeart': commonHeart,\n      'killerHeart': killerHeart,\n      'healerHeart': healerHeart,\n      'catcherHeart': catcherHeart,\n      'travellerHeart': travellerHeart,\n      'travellerTentacle': travellerTentacle,\n      'organism': this\n    };\n\n    this.commonHeart = commonHeart;\n    this.killerHeart = killerHeart;\n    this.healerHeart = healerHeart;\n    this.catcherHeart = catcherHeart;\n    this.travellerHeart = travellerHeart;\n    this.travellerTentacle = travellerTentacle;\n\n    this.killerView = killerView;\n    this.settingsView = settingsView;\n\n    this.killedCounter = 0;\n\n    this.injectViewsIntoDocument();\n    this.setMainViewListeners();\n    this.setSettingsViewListeners();\n\n    this.loadSettings();\n    this.updateViews(this.settings);\n\n    document.addEventListener('keyup', (evt)=>{\n      if(evt.ctrlKey && evt.shiftKey) {\n        if(evt.key == 'H' || evt.key == 'Р') {\n          this.toggleVisionMainContainer();\n        }\n      }\n    });\n  }\n\n  setDocumentObserver() {\n    let observer = new MutationObserver(mut => {\n      if(!document.querySelector('#divLocGo .button')) return;\n      observer.disconnect();\n      this.init();\n      setTimeout(_ => this.settings.globalVars = this.getGlobalVars(), 1000);\n     });\n    let config = {attributes: true, childList: true, subtree: true};\n    observer.observe( document, config );\n  }\n\n  getGlobalVars() {\n    let hiddenStore = document.querySelector('[data-globalvarsstore]');\n    let globalVars = JSON.parse(hiddenStore.value);\n    return globalVars;\n  }\n\n  startKillerLife() {\n    this.currentKillerLife = lifesCounter++;\n    this.killerHeartbeat({ life: this.currentKillerLife });\n  }\n\n  wait(ms, paramToChain) {\n    return new Promise(resolve => {\n      setTimeout(_ => resolve(paramToChain), ms);\n    });\n  }\n\n  showKilledCounter(value) {\n    let counterView = document.querySelector('[data-view=killedwild]');\n    counterView.value = value ? value : 0;\n  }\n\n  killerHeartbeat(blood={}) {\n    if(!this.settings.autofight || this.currentKillerLife !== blood.life) return Promise.resolve(blood);\n\n    this.showKilledCounter(this.killedCounter);\n\n    let randomTimeInterval = (Math.random()*5+2)*1000;\n    return Promise.resolve(blood)\n      .then(this.commonHeart.nextPulse)\n      .then(this.killerHeart.nextPulse)\n      .then(this.catcherHeart.nextPulse)\n      .then(this.healerHeart.nextPulse)\n      .then(this.travellerHeart.nextPulse)\n      .then(blood => this.wait(randomTimeInterval, blood))\n      .then(blood => this.killerHeartbeat(blood));\n  }\n\n  toggleVisionMainContainer() {\n    let killerView = this.killerView.getMainContainerElement();\n    if(killerView.style.display != 'none') killerView.style.display = 'none';\n    else killerView.style.display = 'block';\n  }\n\n  toggleVisionSettingsView() {\n    let settingsView = this.settingsView.getMainContainerElement();\n    if(settingsView.style.display != 'none') settingsView.style.display = 'none';\n    else settingsView.style.display = 'block';\n  }\n\n  injectViewsIntoDocument() {\n    document.body.appendChild(this.killerView.getMainContainerElement());\n    document.body.appendChild(this.settingsView.getMainContainerElement());\n    this.toggleVisionSettingsView();\n  }\n\n  setMainViewListeners() {\n    this.killerView.setAutoFightStatusChangedListener((newState)=>{\n      this.changeSettings({\n        parameter:'autofight',\n        value: newState\n      });\n    });\n\n    this.killerView.setAttackStatusChangedListener((newState, attackNumber)=>{\n      this.changeSettings({\n        parameter:'attack',\n        value: newState,\n        number: attackNumber-1\n      });\n    });\n\n    this.killerView.setSettingsClickListener(_ => this.toggleVisionSettingsView());\n  }\n\n  setSettingsViewListeners() {\n    let parametres = this.settingsParametres;\n    parametres.forEach(parameter => {\n      this.settingsView.setChangeListener(parameter, (newValue) => {\n        this.changeSettings({\n          parameter: parameter,\n          value: newValue\n        });\n      });\n    });\n  }\n\n  changeSettings(newPartOfSettings={}) {\n    let newSettings = {...this.settings};\n    switch(newPartOfSettings.parameter) {\n      case 'autofight':\n      case 'forbiddennumbers':\n      case 'waytoheal':\n      case 'showpokemons':\n      case 'autoheal':\n      case 'showiv':\n      case 'controlhp':\n      case 'controlexp':\n      case 'autocatch':\n      case 'autocatchsettings':\n      case 'alarmsrc':\n      case 'alarmvolume':\n      case 'alarmswitch':\n        newSettings[newPartOfSettings.parameter] = newPartOfSettings.value;\n        if(newPartOfSettings.parameter == 'showpokemons') this.imageReplacer.switchOn(newSettings.showpokemons);\n        if(newPartOfSettings.parameter == 'showiv') this.catcherHeart.setObserverIV(newSettings.showiv);\n        if(newPartOfSettings.parameter == 'alarmvolume') this.alarm.changeVolume(newSettings.alarmvolume);\n        if(newPartOfSettings.parameter == 'alarmsrc') this.alarm.changeMelody(newSettings.alarmsrc);\n      break;\n      case 'attack':\n        let attackNumber = newPartOfSettings.number;\n        newSettings.attack[attackNumber] = newPartOfSettings.value ? 1 : 0;\n      break;\n    }\n\n    let oldAutofightStatus = this.settings.autofight;\n    this.settings = {...newSettings};\n    this.killerHeart.setSettings(this.settings);\n    this.commonHeart.setSettings(this.settings);\n    this.healerHeart.setSettings(this.settings);\n    this.catcherHeart.setSettings(this.settings);\n    this.travellerHeart.setSettings(this.settings);\n    this.travellerTentacle.setSettings(this.settings);\n\n    this.saveSettings();\n    if(this.settings.autofight != oldAutofightStatus) this.startKillerLife();\n  }\n\n  updateViews(settings) {\n    let attackCheckboxes = document.querySelectorAll('[data-changeaction=attack] > input');\n    attackCheckboxes.forEach((checkbox, index) => {\n      checkbox.checked = !!settings.attack[index];\n    });\n\n    let parametres = this.settingsParametres;\n    let settingsInput;\n    parametres.forEach(parameter => {\n      switch(parameter) {\n        case 'forbiddennumbers':\n        case 'waytoheal':\n        case 'autocatchsettings':\n          settingsInput = document.querySelector(`[data-changeaction=${parameter}] > textarea`);\n          settingsInput.value = settings[parameter];\n        break;\n        case 'showpokemons':\n        case 'autoheal':\n        case 'showiv':\n        case 'autocatch':\n        case 'alarmswitch':\n          settingsInput = document.querySelector(`[data-changeaction=${parameter}] > input`);\n          settingsInput.checked = settings[parameter];\n        break;\n        case 'controlhp':\n        case 'controlexp':\n        case 'alarmsrc':\n        case 'alarmvolume':\n          settingsInput = document.querySelector(`[data-changeaction=${parameter}] > input`);\n          settingsInput.value = settings[parameter];\n        break;\n      }\n    });\n  }\n\n  saveSettings() {\n    let settingsToSave = JSON.stringify(this.getSettingsToSave());\n    window.localStorage.setItem('killerSettings', settingsToSave);\n  }\n\n  loadSettings() {\n    let loadedSettings = window.localStorage.getItem('killerSettings');\n    if(!loadedSettings) return;\n    loadedSettings = JSON.parse(loadedSettings);\n    let parametres = this.settingsParametres;\n    parametres.forEach(parameter => {\n      let value = loadedSettings[parameter] && loadedSettings[parameter] != 'undefined' ? loadedSettings[parameter] : '';\n      this.changeSettings({parameter: parameter, value: value});\n    });\n    this.settings.attack = loadedSettings.attack;\n  }\n\n  getSettingsToSave() {\n    let parametres = this.settingsParametres;\n    let settingsToSave = {\n      'attack': this.settings.attack\n    }\n    parametres.forEach(parameter => {\n      settingsToSave[parameter] = this.settings[parameter];\n    });\n    return settingsToSave;\n  }\n\n  sendRequest(url, params=[]) {\n    let formData = new FormData();\n    formData.append('t_key', this.settings.globalVars.t_key);\n    params.forEach(param => {\n      formData.append(param.key, param.value);\n    });\n    let options = {\n      method: 'POST',\n      body: formData,\n      credentials: 'include'\n    }\n    //'http://game.league17.ru/do/pokes/load/team'\n    return fetch(url, options)\n    .then(_ => _.json());\n  }\n}\n\nexport default Killer;","require(`./styles/styles.css`);\n\nimport App from './App';\n\nlet app = new App();\n","module.exports = __webpack_public_path__ + \"dist/app/css/styles.css\";"],"sourceRoot":""}